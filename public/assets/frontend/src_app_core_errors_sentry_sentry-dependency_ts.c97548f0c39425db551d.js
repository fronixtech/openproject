"use strict";(self.webpackChunkopenproject_frontend=self.webpackChunkopenproject_frontend||[]).push([["src_app_core_errors_sentry_sentry-dependency_ts"],{72536:(st,et,S)=>{S.d(et,{_:()=>T});var W=S(94585),K=S(48088),F=S(66150),tt=S(73959),G=S(7821);st=S.hmd(st);var D=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],j={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},T=function(){function $(A){void 0===A&&(A={}),this.name=$.id,this._operations=Array.isArray(A.operations)?A.operations:D,this._describeOperations=!("describeOperations"in A)||A.describeOperations,this._useMongoose=!!A.useMongoose}return $.prototype.setupOnce=function(A,U){var V,L=this._useMongoose?"mongoose":"mongodb";try{V=(0,K.l)(st,L).Collection}catch(rt){return void F.k.error("Mongo Integration was unable to require `"+L+"` package.")}this._instrumentOperations(V,this._operations,U)},$.prototype._instrumentOperations=function(A,U,V){var L=this;U.forEach(function(P){return L._patchOperation(A,P,V)})},$.prototype._patchOperation=function(A,U,V){if(U in A.prototype){var L=this._getSpanContextFromOperationArguments.bind(this);(0,tt.hl)(A.prototype,U,function(P){return function(){for(var rt=[],at=0;at<arguments.length;at++)rt[at]=arguments[at];var k,C,y,E,R=rt[rt.length-1],M=V().getScope(),H=null===(k=M)||void 0===k?void 0:k.getSpan();if("function"!=typeof R||"mapReduce"===U&&2===rt.length){var lt=null===(C=H)||void 0===C?void 0:C.startChild(L(this,U,rt)),f=P.call.apply(P,(0,W.fl)([this],rt));return(0,G.J8)(f)?f.then(function(d){var m;return null===(m=lt)||void 0===m||m.finish(),d}):(null===(y=lt)||void 0===y||y.finish(),f)}var p=null===(E=H)||void 0===E?void 0:E.startChild(L(this,U,rt.slice(0,-1)));return P.call.apply(P,(0,W.fl)([this],rt.slice(0,-1),[function(d,m){var w;null===(w=p)||void 0===w||w.finish(),R(d,m)}]))}})}},$.prototype._getSpanContextFromOperationArguments=function(A,U,V){var L={collectionName:A.collectionName,dbName:A.dbName,namespace:A.namespace},P={op:"db",description:U,data:L},rt=j[U],at=Array.isArray(this._describeOperations)?this._describeOperations.includes(U):this._describeOperations;if(!rt||!at)return P;try{if("mapReduce"===U){var k=(0,W.CR)(V,2),C=k[0],y=k[1];L[rt[0]]="string"==typeof C?C:C.name||"<anonymous>",L[rt[1]]="string"==typeof y?y:y.name||"<anonymous>"}else for(var E=0;E<rt.length;E++)L[rt[E]]=JSON.stringify(V[E])}catch(R){}return P},$.id="Mongo",$}()},5618:(st,et,S)=>{S.d(et,{m:()=>tt});var W=S(48088),K=S(66150),F=S(73959);st=S.hmd(st);var tt=function(){function G(){this.name=G.id}return G.prototype.setupOnce=function(D,j){var T;try{T=(0,W.l)(st,"mysql/lib/Connection.js")}catch($){return void K.k.error("Mysql Integration was unable to require `mysql` package.")}(0,F.hl)(T.prototype,"query",function($){return function(A,U,V){var L,P,k=null===(P=null===(L=j().getScope())||void 0===L?void 0:L.getSpan())||void 0===P?void 0:P.startChild({description:"string"==typeof A?A:A.sql,op:"db"});return"function"==typeof V?$.call(this,A,U,function(C,y,E){var R;null===(R=k)||void 0===R||R.finish(),V(C,y,E)}):"function"==typeof U?$.call(this,A,function(C,y,E){var R;null===(R=k)||void 0===R||R.finish(),U(C,y,E)}):$.call(this,A,U,V)}})},G.id="Mysql",G}()},62874:(st,et,S)=>{S.d(et,{E:()=>tt});var W=S(48088),K=S(66150),F=S(73959);st=S.hmd(st);var tt=function(){function G(){this.name=G.id}return G.prototype.setupOnce=function(D,j){var T;try{T=(0,W.l)(st,"pg").Client}catch(A){return void K.k.error("Postgres Integration was unable to require `pg` package.")}(0,F.hl)(T.prototype,"query",function(A){return function(U,V,L){var P,rt,C=null===(rt=null===(P=j().getScope())||void 0===P?void 0:P.getSpan())||void 0===rt?void 0:rt.startChild({description:"string"==typeof U?U:U.text,op:"db"});return"function"==typeof L?A.call(this,U,V,function(y,E){var R;null===(R=C)||void 0===R||R.finish(),L(y,E)}):"function"==typeof V?A.call(this,U,function(y,E){var R;null===(R=C)||void 0===R||R.finish(),V(y,E)}):A.call(this,U,V).then(function(y){var E;return null===(E=C)||void 0===E||E.finish(),y})}})},G.id="Postgres",G}()},44711:(st,et,S)=>{S.d(et,{R:()=>K});var W=S(7821);function K(tt){try{for(var G=tt,T=[],$=0,A=0,V=" > ".length,L=void 0;G&&$++<5&&!("html"===(L=F(G))||$>1&&A+T.length*V+L.length>=80);)T.push(L),A+=L.length,G=G.parentNode;return T.reverse().join(" > ")}catch(P){return"<unknown>"}}function F(tt){var j,T,$,A,U,G=tt,D=[];if(!G||!G.tagName)return"";if(D.push(G.tagName.toLowerCase()),G.id&&D.push("#"+G.id),(j=G.className)&&(0,W.HD)(j))for(T=j.split(/\s+/),U=0;U<T.length;U++)D.push("."+T[U]);var V=["type","name","title","alt"];for(U=0;U<V.length;U++)$=V[U],(A=G.getAttribute($))&&D.push("["+$+'="'+A+'"]');return D.join("")}},7821:(st,et,S)=>{function W(P){switch(Object.prototype.toString.call(P)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return L(P,Error)}}function K(P){return"[object ErrorEvent]"===Object.prototype.toString.call(P)}function F(P){return"[object DOMError]"===Object.prototype.toString.call(P)}function tt(P){return"[object DOMException]"===Object.prototype.toString.call(P)}function G(P){return"[object String]"===Object.prototype.toString.call(P)}function D(P){return null===P||"object"!=typeof P&&"function"!=typeof P}function j(P){return"[object Object]"===Object.prototype.toString.call(P)}function T(P){return"undefined"!=typeof Event&&L(P,Event)}function $(P){return"undefined"!=typeof Element&&L(P,Element)}function A(P){return"[object RegExp]"===Object.prototype.toString.call(P)}function U(P){return Boolean(P&&P.then&&"function"==typeof P.then)}function V(P){return j(P)&&"nativeEvent"in P&&"preventDefault"in P&&"stopPropagation"in P}function L(P,rt){try{return P instanceof rt}catch(at){return!1}}S.d(et,{VZ:()=>W,VW:()=>K,TX:()=>F,fm:()=>tt,HD:()=>G,pt:()=>D,PO:()=>j,cO:()=>T,kK:()=>$,Kj:()=>A,J8:()=>U,Cy:()=>V,V9:()=>L})},66150:(st,et,S)=>{S.d(et,{k:()=>G});var W=S(4799),K=(0,W.Rf)(),F="Sentry Logger ",tt=function(){function D(){this._enabled=!1}return D.prototype.disable=function(){this._enabled=!1},D.prototype.enable=function(){this._enabled=!0},D.prototype.log=function(){for(var j=[],T=0;T<arguments.length;T++)j[T]=arguments[T];!this._enabled||(0,W.Cf)(function(){K.console.log(F+"[Log]: "+j.join(" "))})},D.prototype.warn=function(){for(var j=[],T=0;T<arguments.length;T++)j[T]=arguments[T];!this._enabled||(0,W.Cf)(function(){K.console.warn(F+"[Warn]: "+j.join(" "))})},D.prototype.error=function(){for(var j=[],T=0;T<arguments.length;T++)j[T]=arguments[T];!this._enabled||(0,W.Cf)(function(){K.console.error(F+"[Error]: "+j.join(" "))})},D}();K.__SENTRY__=K.__SENTRY__||{};var G=K.__SENTRY__.logger||(K.__SENTRY__.logger=new tt)},4799:(st,et,S)=>{S.d(et,{Rf:()=>F,DM:()=>tt,en:()=>G,jH:()=>D,Cf:()=>j,Db:()=>T,EG:()=>$,l4:()=>A,JY:()=>P,rt:()=>at});var W=S(48088),K={};function F(){return(0,W.K)()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:K}function tt(){var k=F(),C=k.crypto||k.msCrypto;if(void 0!==C&&C.getRandomValues){var y=new Uint16Array(8);C.getRandomValues(y),y[3]=4095&y[3]|16384,y[4]=16383&y[4]|32768;var E=function(R){for(var M=R.toString(16);M.length<4;)M="0"+M;return M};return E(y[0])+E(y[1])+E(y[2])+E(y[3])+E(y[4])+E(y[5])+E(y[6])+E(y[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(R){var M=16*Math.random()|0;return("x"===R?M:3&M|8).toString(16)})}function G(k){if(!k)return{};var C=k.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!C)return{};var y=C[6]||"",E=C[8]||"";return{host:C[4],path:C[5],protocol:C[2],relative:C[5]+y+E}}function D(k){if(k.message)return k.message;if(k.exception&&k.exception.values&&k.exception.values[0]){var C=k.exception.values[0];return C.type&&C.value?C.type+": "+C.value:C.type||C.value||k.event_id||"<unknown>"}return k.event_id||"<unknown>"}function j(k){var C=F();if(!("console"in C))return k();var E=C.console,R={};["debug","info","warn","error","log","assert"].forEach(function(H){H in C.console&&E[H].__sentry_original__&&(R[H]=E[H],E[H]=E[H].__sentry_original__)});var M=k();return Object.keys(R).forEach(function(H){E[H]=R[H]}),M}function T(k,C,y){k.exception=k.exception||{},k.exception.values=k.exception.values||[],k.exception.values[0]=k.exception.values[0]||{},k.exception.values[0].value=k.exception.values[0].value||C||"",k.exception.values[0].type=k.exception.values[0].type||y||"Error"}function $(k,C){void 0===C&&(C={});try{k.exception.values[0].mechanism=k.exception.values[0].mechanism||{},Object.keys(C).forEach(function(y){k.exception.values[0].mechanism[y]=C[y]})}catch(y){}}function A(){try{return document.location.href}catch(k){return""}}function P(k,C){if(!C)return 6e4;var y=parseInt(""+C,10);if(!isNaN(y))return 1e3*y;var E=Date.parse(""+C);return isNaN(E)?6e4:E-k}function at(k){return k.split(/[\?#]/,1)[0]}},48088:(st,et,S)=>{function W(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function K(F,tt){return F.require(tt)}S.d(et,{K:()=>W,l:()=>K})},73959:(st,et,S)=>{S.d(et,{Jr:()=>C,zf:()=>k,hl:()=>j,Fv:()=>at,Qy:()=>V,_j:()=>T});var W=S(363),K=S(44711),F=S(7821),tt=function(){function y(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return y.prototype.memoize=function(E){if(this._hasWeakSet)return!!this._inner.has(E)||(this._inner.add(E),!1);for(var R=0;R<this._inner.length;R++){if(this._inner[R]===E)return!0}return this._inner.push(E),!1},y.prototype.unmemoize=function(E){if(this._hasWeakSet)this._inner.delete(E);else for(var R=0;R<this._inner.length;R++)if(this._inner[R]===E){this._inner.splice(R,1);break}},y}(),G=S(74717),D=S(34635);function j(y,E,R){if(E in y){var M=y[E],H=R(M);if("function"==typeof H)try{H.prototype=H.prototype||{},Object.defineProperties(H,{__sentry_original__:{enumerable:!1,value:M}})}catch(lt){}y[E]=H}}function T(y){return Object.keys(y).map(function(E){return encodeURIComponent(E)+"="+encodeURIComponent(y[E])}).join("&")}function $(y){if((0,F.VZ)(y)){var E=y,R={message:E.message,name:E.name,stack:E.stack};for(var M in E)Object.prototype.hasOwnProperty.call(E,M)&&(R[M]=E[M]);return R}if((0,F.cO)(y)){var H=y,lt={};lt.type=H.type;try{lt.target=(0,F.kK)(H.target)?(0,K.R)(H.target):Object.prototype.toString.call(H.target)}catch(f){lt.target="<unknown>"}try{lt.currentTarget=(0,F.kK)(H.currentTarget)?(0,K.R)(H.currentTarget):Object.prototype.toString.call(H.currentTarget)}catch(f){lt.currentTarget="<unknown>"}for(var M in"undefined"!=typeof CustomEvent&&(0,F.V9)(y,CustomEvent)&&(lt.detail=H.detail),H)Object.prototype.hasOwnProperty.call(H,M)&&(lt[M]=H);return lt}return y}function U(y){return function(y){return~-encodeURI(y).split(/%..|./).length}(JSON.stringify(y))}function V(y,E,R){void 0===E&&(E=3),void 0===R&&(R=102400);var M=at(y,E);return U(M)>R?V(y,E-1,R):M}function P(y,E){return"domain"===E&&y&&"object"==typeof y&&y._events?"[Domain]":"domainEmitter"===E?"[DomainEmitter]":"undefined"!=typeof global&&y===global?"[Global]":"undefined"!=typeof window&&y===window?"[Window]":"undefined"!=typeof document&&y===document?"[Document]":(0,F.Cy)(y)?"[SyntheticEvent]":"number"==typeof y&&y!=y?"[NaN]":void 0===y?"[undefined]":"function"==typeof y?"[Function: "+(0,G.$)(y)+"]":"symbol"==typeof y?"["+String(y)+"]":"bigint"==typeof y?"[BigInt: "+String(y)+"]":y}function rt(y,E,R,M){if(void 0===R&&(R=1/0),void 0===M&&(M=new tt),0===R)return function(y){var E=Object.prototype.toString.call(y);if("string"==typeof y)return y;if("[object Object]"===E)return"[Object]";if("[object Array]"===E)return"[Array]";var R=P(y);return(0,F.pt)(R)?R:E}(E);if(null!=E&&"function"==typeof E.toJSON)return E.toJSON();var H=P(E,y);if((0,F.pt)(H))return H;var lt=$(E),f=Array.isArray(E)?[]:{};if(M.memoize(E))return"[Circular ~]";for(var p in lt)!Object.prototype.hasOwnProperty.call(lt,p)||(f[p]=rt(p,lt[p],R-1,M));return M.unmemoize(E),f}function at(y,E){try{return JSON.parse(JSON.stringify(y,function(R,M){return rt(R,M,E)}))}catch(R){return"**non-serializable**"}}function k(y,E){void 0===E&&(E=40);var R=Object.keys($(y));if(R.sort(),!R.length)return"[object has no keys]";if(R[0].length>=E)return(0,D.$G)(R[0],E);for(var M=R.length;M>0;M--){var H=R.slice(0,M).join(", ");if(!(H.length>E))return M===R.length?H:(0,D.$G)(H,E)}return""}function C(y){var E,R;if((0,F.PO)(y)){var M=y,H={};try{for(var lt=(0,W.XA)(Object.keys(M)),f=lt.next();!f.done;f=lt.next()){var p=f.value;void 0!==M[p]&&(H[p]=C(M[p]))}}catch(d){E={error:d}}finally{try{f&&!f.done&&(R=lt.return)&&R.call(lt)}finally{if(E)throw E.error}}return H}return Array.isArray(y)?y.map(C):y}},74717:(st,et,S)=>{S.d(et,{$:()=>K});var W="<anonymous>";function K(F){try{return F&&"function"==typeof F&&F.name||W}catch(tt){return W}}},34635:(st,et,S)=>{S.d(et,{$G:()=>K,nK:()=>tt,zC:()=>G});var W=S(7821);function K(D,j){return void 0===j&&(j=0),"string"!=typeof D||0===j||D.length<=j?D:D.substr(0,j)+"..."}function tt(D,j){if(!Array.isArray(D))return"";for(var T=[],$=0;$<D.length;$++){var A=D[$];try{T.push(String(A))}catch(U){T.push("[value cannot be serialized]")}}return T.join(j)}function G(D,j){return!!(0,W.HD)(D)&&((0,W.Kj)(j)?j.test(D):"string"==typeof j&&-1!==D.indexOf(j))}},37135:(st,et,S)=>{S.d(et,{yW:()=>T,_I:()=>A,Z1:()=>V});var W=S(4799),K=S(48088);st=S.hmd(st);var F={nowSeconds:function(){return Date.now()/1e3}};var D=(0,K.K)()?function(){try{return(0,K.l)(st,"perf_hooks").performance}catch(P){return}}():function(){var L=(0,W.Rf)().performance;if(L&&L.now)return{now:function(){return L.now()},timeOrigin:Date.now()-L.now()}}(),j=void 0===D?F:{nowSeconds:function(){return(D.timeOrigin+D.now())/1e3}},T=F.nowSeconds.bind(F),A=j.nowSeconds.bind(j),V=function(){var L=(0,W.Rf)().performance;if(L)return L.timeOrigin?L.timeOrigin:L.timing&&L.timing.navigationStart||Date.now()}()},82543:(st,et,S)=>{S.r(et),S.d(et,{Integrations:()=>fl,Sentry:()=>tt});var W={};S.r(W),S.d(W,{FunctionToString:()=>Xn,InboundFilters:()=>Vn});var K={};S.r(K),S.d(K,{Breadcrumbs:()=>Vr,GlobalHandlers:()=>Qn,LinkedErrors:()=>Zn,TryCatch:()=>Jn,UserAgent:()=>ti});var F={};S.r(F),S.d(F,{BaseTransport:()=>Wr,FetchTransport:()=>Hn,XHRTransport:()=>Bn});var tt={};S.r(tt),S.d(tt,{BrowserClient:()=>Yn,Hub:()=>Ce,Integrations:()=>Bo,SDK_NAME:()=>Ho,SDK_VERSION:()=>Pe,Scope:()=>Ie,Severity:()=>g,Status:()=>I,TraceClassDecorator:()=>vc,TraceDirective:()=>gc,TraceMethodDecorator:()=>mc,TraceService:()=>dc,Transports:()=>F,addBreadcrumb:()=>Ca,addGlobalEventProcessor:()=>xe,captureEvent:()=>Ia,captureException:()=>Lr,captureMessage:()=>Ra,close:()=>Mo,configureScope:()=>xa,createErrorHandler:()=>qo,defaultIntegrations:()=>ei,eventFromException:()=>Un,eventFromMessage:()=>jn,flush:()=>Do,forceLoad:()=>jo,getActiveTransaction:()=>Ye,getCurrentHub:()=>ot,getHubFromCarrier:()=>Bt,init:()=>$o,injectReportDialog:()=>zn,lastEventId:()=>Uo,makeMain:()=>Ur,onLoad:()=>Lo,routingInstrumentation:()=>hc,setContext:()=>Pa,setExtra:()=>Ua,setExtras:()=>ka,setTag:()=>ja,setTags:()=>Aa,setUser:()=>La,showReportDialog:()=>ri,startTransaction:()=>Da,withScope:()=>Rn,wrap:()=>No});var G={};S.r(G),S.d(G,{Express:()=>il,Mongo:()=>ll._,Mysql:()=>cl.m,Postgres:()=>ul.E});var D=function(e,t){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])})(e,t)};function j(e,t){function r(){this.constructor=e}D(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var g,e,I,T=function(){return(T=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);return t}).apply(this,arguments)};function k(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function C(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,o,n=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(C(arguments[t]));return e}(e=g||(g={})).Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical",function(e){e.fromString=function(r){switch(r){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}}(g||(g={})),function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"}(I||(I={})),function(e){e.fromHttpCode=function(r){return r>=200&&r<300?e.Success:429===r?e.RateLimit:r>=400&&r<500?e.Invalid:r>=500?e.Failed:e.Unknown}}(I||(I={}));var _=function(){return(_=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);return t}).apply(this,arguments)};function ya(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,o,n=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function ne(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ya(arguments[t]));return e}var Ht,ut=S(7821),Ct=S(37135);!function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"}(Ht||(Ht={}));var mt=function(){function e(t){var r=this;this._state=Ht.PENDING,this._handlers=[],this._resolve=function(n){r._setResult(Ht.RESOLVED,n)},this._reject=function(n){r._setResult(Ht.REJECTED,n)},this._setResult=function(n,i){if(r._state===Ht.PENDING){if((0,ut.J8)(i))return void i.then(r._resolve,r._reject);r._state=n,r._value=i,r._executeHandlers()}},this._attachHandler=function(n){r._handlers=r._handlers.concat(n),r._executeHandlers()},this._executeHandlers=function(){if(r._state!==Ht.PENDING){var n=r._handlers.slice();r._handlers=[],n.forEach(function(i){i.done||(r._state===Ht.RESOLVED&&i.onfulfilled&&i.onfulfilled(r._value),r._state===Ht.REJECTED&&i.onrejected&&i.onrejected(r._value),i.done=!0)})}};try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}return e.resolve=function(t){return new e(function(r){r(t)})},e.reject=function(t){return new e(function(r,n){n(t)})},e.all=function(t){return new e(function(r,n){if(Array.isArray(t))if(0!==t.length){var i=t.length,a=[];t.forEach(function(o,s){e.resolve(o).then(function(c){a[s]=c,0===(i-=1)&&r(a)}).then(null,n)})}else r([]);else n(new TypeError("Promise.all requires an array as input."))})},e.prototype.then=function(t,r){var n=this;return new e(function(i,a){n._attachHandler({done:!1,onfulfilled:function(o){if(t)try{return void i(t(o))}catch(s){return void a(s)}else i(o)},onrejected:function(o){if(r)try{return void i(r(o))}catch(s){return void a(s)}else a(o)}})})},e.prototype.catch=function(t){return this.then(function(r){return r},t)},e.prototype.finally=function(t){var r=this;return new e(function(n,i){var a,o;return r.then(function(s){o=!1,a=s,t&&t()},function(s){o=!0,a=s,t&&t()}).then(function(){o?i(a):n(a)})})},e.prototype.toString=function(){return"[object SyncPromise]"},e}(),N=S(4799),Ie=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var r=new e;return t&&(r._breadcrumbs=ne(t._breadcrumbs),r._tags=_({},t._tags),r._extra=_({},t._extra),r._contexts=_({},t._contexts),r._user=t._user,r._level=t._level,r._span=t._span,r._session=t._session,r._transactionName=t._transactionName,r._fingerprint=t._fingerprint,r._eventProcessors=ne(t._eventProcessors)),r},e.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},e.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},e.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.setTags=function(t){return this._tags=_(_({},this._tags),t),this._notifyScopeListeners(),this},e.prototype.setTag=function(t,r){var n;return this._tags=_(_({},this._tags),((n={})[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(t){return this._extra=_(_({},this._extra),t),this._notifyScopeListeners(),this},e.prototype.setExtra=function(t,r){var n;return this._extra=_(_({},this._extra),((n={})[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},e.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(t){return this.setTransactionName(t)},e.prototype.setContext=function(t,r){var n;return null===r?delete this._contexts[t]:this._contexts=_(_({},this._contexts),((n={})[t]=r,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var t,r,n,i,a=this.getSpan();return(null===(t=a)||void 0===t?void 0:t.transaction)?null===(r=a)||void 0===r?void 0:r.transaction:(null===(i=null===(n=a)||void 0===n?void 0:n.spanRecorder)||void 0===i?void 0:i.spans[0])?a.spanRecorder.spans[0]:void 0},e.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"==typeof t){var r=t(this);return r instanceof e?r:this}return t instanceof e?(this._tags=_(_({},this._tags),t._tags),this._extra=_(_({},this._extra),t._extra),this._contexts=_(_({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint)):(0,ut.PO)(t)&&(t=t,this._tags=_(_({},this._tags),t.tags),this._extra=_(_({},this._extra),t.extra),this._contexts=_(_({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(t,r){var n=_({timestamp:(0,Ct.yW)()},t);return this._breadcrumbs=void 0!==r&&r>=0?ne(this._breadcrumbs,[n]).slice(-r):ne(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(t,r){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=_(_({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=_(_({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=_(_({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=_(_({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=_({trace:this._span.getTraceContext()},t.contexts);var i=null===(n=this._span.transaction)||void 0===n?void 0:n.name;i&&(t.tags=_({transaction:i},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=ne(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(ne(En(),this._eventProcessors),t,r)},e.prototype._notifyEventProcessors=function(t,r,n,i){var a=this;return void 0===i&&(i=0),new mt(function(o,s){var c=t[i];if(null===r||"function"!=typeof c)o(r);else{var u=c(_({},r),n);(0,ut.J8)(u)?u.then(function(l){return a._notifyEventProcessors(t,l,n,i+1).then(o)}).then(null,s):a._notifyEventProcessors(t,u,n,i+1).then(o).then(null,s)}})},e.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(r){r(t)}),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},e}();function En(){var e=(0,N.Rf)();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function xe(e){En().push(e)}var ie,Qe=function(){return(Qe=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);return t}).apply(this,arguments)};function _a(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,o,n=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function ba(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(_a(arguments[t]));return e}!function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"}(ie||(ie={}));var x=S(66150),Sa=S(48088),nt=S(73959),wa=function(){function e(t){this.errors=0,this.sid=(0,N.DM)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=ie.Ok,this.init=!0,t&&this.update(t)}return e.prototype.update=function(t){void 0===t&&(t={}),t.user&&(t.user.ip_address&&(this.ipAddress=t.user.ip_address),t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Date.now(),t.sid&&(this.sid=32===t.sid.length?t.sid:(0,N.DM)()),void 0!==t.init&&(this.init=t.init),t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),"number"==typeof t.duration?this.duration=t.duration:this.duration=this.timestamp-this.started,t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),t.ipAddress&&(this.ipAddress=t.ipAddress),t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},e.prototype.close=function(t){t?this.update({status:t}):this.status===ie.Ok?this.update({status:ie.Exited}):this.update()},e.prototype.toJSON=function(){return(0,nt.Jr)({sid:""+this.sid,init:this.init,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:(0,nt.Jr)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}(),Ce=function(){function e(t,r,n){void 0===r&&(r=new Ie),void 0===n&&(n=3),this._version=n,this._stack=[{}],this.getStackTop().scope=r,this.bindClient(t)}return e.prototype.isOlderThan=function(t){return this._version<t},e.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},e.prototype.pushScope=function(){var t=Ie.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},e.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},e.prototype.withScope=function(t){var r=this.pushScope();try{t(r)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(t,r){var n=this._lastEventId=(0,N.DM)(),i=r;if(!r){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(o){a=o}i={originalException:t,syntheticException:a}}return this._invokeClient("captureException",t,_(_({},i),{event_id:n})),n},e.prototype.captureMessage=function(t,r,n){var i=this._lastEventId=(0,N.DM)(),a=n;if(!n){var o=void 0;try{throw new Error(t)}catch(s){o=s}a={originalException:t,syntheticException:o}}return this._invokeClient("captureMessage",t,r,_(_({},a),{event_id:i})),i},e.prototype.captureEvent=function(t,r){var n=this._lastEventId=(0,N.DM)();return this._invokeClient("captureEvent",t,_(_({},r),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(t,r){var n=this.getStackTop(),i=n.scope,a=n.client;if(i&&a){var o=a.getOptions&&a.getOptions()||{},s=o.beforeBreadcrumb,c=void 0===s?null:s,u=o.maxBreadcrumbs,l=void 0===u?100:u;if(!(l<=0)){var b=(0,Ct.yW)(),v=_({timestamp:b},t),O=c?(0,N.Cf)(function(){return c(v,r)}):v;null!==O&&i.addBreadcrumb(O,Math.min(l,100))}}},e.prototype.setUser=function(t){var r=this.getScope();r&&r.setUser(t)},e.prototype.setTags=function(t){var r=this.getScope();r&&r.setTags(t)},e.prototype.setExtras=function(t){var r=this.getScope();r&&r.setExtras(t)},e.prototype.setTag=function(t,r){var n=this.getScope();n&&n.setTag(t,r)},e.prototype.setExtra=function(t,r){var n=this.getScope();n&&n.setExtra(t,r)},e.prototype.setContext=function(t,r){var n=this.getScope();n&&n.setContext(t,r)},e.prototype.configureScope=function(t){var r=this.getStackTop(),n=r.scope,i=r.client;n&&i&&t(n)},e.prototype.run=function(t){var r=Ur(this);try{t(this)}finally{Ur(r)}},e.prototype.getIntegration=function(t){var r=this.getClient();if(!r)return null;try{return r.getIntegration(t)}catch(n){return x.k.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},e.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},e.prototype.startTransaction=function(t,r){return this._callExtensionMethod("startTransaction",t,r)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var t,r,n,i,a;null===(n=null===(r=null===(t=this.getStackTop())||void 0===t?void 0:t.scope)||void 0===r?void 0:r.getSession())||void 0===n||n.close(),this._sendSessionUpdate(),null===(a=null===(i=this.getStackTop())||void 0===i?void 0:i.scope)||void 0===a||a.setSession()},e.prototype.startSession=function(t){var r=this.getStackTop(),n=r.scope,i=r.client,a=i&&i.getOptions()||{},o=a.release,s=a.environment,c=new wa(_(_({release:o,environment:s},n&&{user:n.getUser()}),t));if(n){var u=n.getSession&&n.getSession();u&&u.status===ie.Ok&&u.update({status:ie.Exited}),this.endSession(),n.setSession(c)}return c},e.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),r=t.scope,n=t.client;if(r){var i=r.getSession&&r.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},e.prototype._invokeClient=function(t){for(var r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=this.getStackTop(),o=a.scope,s=a.client;s&&s[t]&&(r=s)[t].apply(r,ne(n,[o]))},e.prototype._callExtensionMethod=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=me(),a=i.__SENTRY__;if(a&&a.extensions&&"function"==typeof a.extensions[t])return a.extensions[t].apply(this,r);x.k.warn("Extension method "+t+" couldn't be found, doing nothing.")},e}();function me(){var e=(0,N.Rf)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function Ur(e){var t=me(),r=Bt(t);return jr(t,e),r}function ot(){var e=me();return(!Tn(e)||Bt(e).isOlderThan(3))&&jr(e,new Ce),(0,Sa.K)()?function(e){var t,r,n;try{var i=null===(n=null===(r=null===(t=me().__SENTRY__)||void 0===t?void 0:t.extensions)||void 0===r?void 0:r.domain)||void 0===n?void 0:n.active;if(!i)return Bt(e);if(!Tn(i)||Bt(i).isOlderThan(3)){var a=Bt(e).getStackTop();jr(i,new Ce(a.client,Ie.clone(a.scope)))}return Bt(i)}catch(o){return Bt(e)}}(e):Bt(e)}function Tn(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function Bt(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new Ce),e.__SENTRY__.hub}function jr(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}function Ot(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=ot();if(n&&n[e])return n[e].apply(n,ba(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function Lr(e,t){var r;try{throw new Error("Sentry syntheticException")}catch(n){r=n}return Ot("captureException",e,{captureContext:t,originalException:e,syntheticException:r})}function Ra(e,t){var r;try{throw new Error(e)}catch(a){r=a}return Ot("captureMessage",e,"string"==typeof t?t:void 0,Qe({originalException:e,syntheticException:r},"string"!=typeof t?{captureContext:t}:void 0))}function Ia(e){return Ot("captureEvent",e)}function xa(e){Ot("configureScope",e)}function Ca(e){Ot("addBreadcrumb",e)}function Pa(e,t){Ot("setContext",e,t)}function ka(e){Ot("setExtras",e)}function Aa(e){Ot("setTags",e)}function Ua(e,t){Ot("setExtra",e,t)}function ja(e,t){Ot("setTag",e,t)}function La(e){Ot("setUser",e)}function Rn(e){Ot("withScope",e)}function Da(e,t){return Ot("startTransaction",Qe({},e),t)}var Pe="6.2.3";var Nr,_t=function(){return(_t=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);return t}).apply(this,arguments)};function Mr(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Na(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,o,n=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function Kt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Na(arguments[t]));return e}!function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"}(Nr||(Nr={}));var Xt=S(363),Fa=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r]);return e});var pt=function(e){function t(r){var n=this.constructor,i=e.call(this,r)||this;return i.message=r,i.name=n.prototype.constructor.name,Fa(i,n.prototype),i}return(0,Xt.ZT)(t,e),t}(Error),$a=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,ke="Invalid Dsn",In=function(){function e(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return e.prototype.toString=function(t){void 0===t&&(t=!1);var r=this,n=r.host,i=r.path,a=r.pass,o=r.port,s=r.projectId;return r.protocol+"://"+r.publicKey+(t&&a?":"+a:"")+"@"+n+(o?":"+o:"")+"/"+(i&&i+"/")+s},e.prototype._fromString=function(t){var r=$a.exec(t);if(!r)throw new pt(ke);var n=(0,Xt.CR)(r.slice(1),6),i=n[0],a=n[1],o=n[2],s=void 0===o?"":o,c=n[3],u=n[4],l=void 0===u?"":u,v="",O=n[5],z=O.split("/");if(z.length>1&&(v=z.slice(0,-1).join("/"),O=z.pop()),O){var Q=O.match(/^\d+/);Q&&(O=Q[0])}this._fromComponents({host:c,pass:s,path:v,projectId:O,port:l,protocol:i,publicKey:a})},e.prototype._fromComponents=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},e.prototype._validate=function(){var t=this;if(["protocol","publicKey","host","projectId"].forEach(function(r){if(!t[r])throw new pt(ke+": "+r+" missing")}),!this.projectId.match(/^\d+$/))throw new pt(ke+": Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new pt(ke+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new pt(ke+": Invalid port "+this.port)},e}(),Dt=S(34635),xn=[];function Ga(e){var t={};return function(e){var t=e.defaultIntegrations&&Kt(e.defaultIntegrations)||[],r=e.integrations,n=[];if(Array.isArray(r)){var i=r.map(function(c){return c.name}),a=[];t.forEach(function(c){-1===i.indexOf(c.name)&&-1===a.indexOf(c.name)&&(n.push(c),a.push(c.name))}),r.forEach(function(c){-1===a.indexOf(c.name)&&(n.push(c),a.push(c.name))})}else"function"==typeof r?(n=r(t),n=Array.isArray(n)?n:[n]):n=Kt(t);var o=n.map(function(c){return c.name}),s="Debug";return-1!==o.indexOf(s)&&n.push.apply(n,Kt(n.splice(o.indexOf(s),1))),n}(e).forEach(function(r){t[r.name]=r,function(e){-1===xn.indexOf(e.name)&&(e.setupOnce(xe,ot),xn.push(e.name),x.k.log("Integration installed: "+e.name))}(r)}),t}var Ae,qa=function(){function e(t,r){this._integrations={},this._processing=0,this._backend=new t(r),this._options=r,r.dsn&&(this._dsn=new In(r.dsn))}return e.prototype.captureException=function(t,r,n){var i=this,a=r&&r.event_id;return this._process(this._getBackend().eventFromException(t,r).then(function(o){return i._captureEvent(o,r,n)}).then(function(o){a=o})),a},e.prototype.captureMessage=function(t,r,n,i){var a=this,o=n&&n.event_id,s=(0,ut.pt)(t)?this._getBackend().eventFromMessage(String(t),r,n):this._getBackend().eventFromException(t,n);return this._process(s.then(function(c){return a._captureEvent(c,n,i)}).then(function(c){o=c})),o},e.prototype.captureEvent=function(t,r,n){var i=r&&r.event_id;return this._process(this._captureEvent(t,r,n).then(function(a){i=a})),i},e.prototype.captureSession=function(t){t.release?(this._sendSession(t),t.update({init:!1})):x.k.warn("Discarded session because of missing release")},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.flush=function(t){var r=this;return this._isClientProcessing(t).then(function(n){return r._getBackend().getTransport().close(t).then(function(i){return n&&i})})},e.prototype.close=function(t){var r=this;return this.flush(t).then(function(n){return r.getOptions().enabled=!1,n})},e.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=Ga(this._options))},e.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(r){return x.k.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(t,r){var n,i,s,a=!1,o=!1,c=r.exception&&r.exception.values;if(c){o=!0;try{for(var u=Mr(c),l=u.next();!l.done;l=u.next()){var v=l.value.mechanism;if(v&&!1===v.handled){a=!0;break}}}catch(vt){n={error:vt}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}var O=r.user;if(!t.userAgent){var z=r.request?r.request.headers:{};for(var Q in z)if("user-agent"===Q.toLowerCase()){s=z[Q];break}}t.update(_t(_t({},a&&{status:Nr.Crashed}),{user:O,userAgent:s,errors:t.errors+Number(o||a)})),this.captureSession(t)},e.prototype._sendSession=function(t){this._getBackend().sendSession(t)},e.prototype._isClientProcessing=function(t){var r=this;return new mt(function(n){var i=0,o=setInterval(function(){0==r._processing?(clearInterval(o),n(!0)):(i+=1,t&&i>=t&&(clearInterval(o),n(!1)))},1)})},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(t,r,n){var i=this,a=this.getOptions().normalizeDepth,o=void 0===a?3:a,s=_t(_t({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:(0,N.DM)()),timestamp:t.timestamp||(0,Ct.yW)()});this._applyClientOptions(s),this._applyIntegrationsMetadata(s);var c=r;n&&n.captureContext&&(c=Ie.clone(c).update(n.captureContext));var u=mt.resolve(s);return c&&(u=c.applyToEvent(s,n)),u.then(function(l){return"number"==typeof o&&o>0?i._normalizeEvent(l,o):l})},e.prototype._normalizeEvent=function(t,r){if(!t)return null;var n=_t(_t(_t(_t(_t({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(function(i){return _t(_t({},i),i.data&&{data:(0,nt.Fv)(i.data,r)})})}),t.user&&{user:(0,nt.Fv)(t.user,r)}),t.contexts&&{contexts:(0,nt.Fv)(t.contexts,r)}),t.extra&&{extra:(0,nt.Fv)(t.extra,r)});return t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace),n},e.prototype._applyClientOptions=function(t){var r=this.getOptions(),n=r.environment,i=r.release,a=r.dist,o=r.maxValueLength,s=void 0===o?250:o;"environment"in t||(t.environment="environment"in r?n:"production"),void 0===t.release&&void 0!==i&&(t.release=i),void 0===t.dist&&void 0!==a&&(t.dist=a),t.message&&(t.message=(0,Dt.$G)(t.message,s));var c=t.exception&&t.exception.values&&t.exception.values[0];c&&c.value&&(c.value=(0,Dt.$G)(c.value,s));var u=t.request;u&&u.url&&(u.url=(0,Dt.$G)(u.url,s))},e.prototype._applyIntegrationsMetadata=function(t){var r=t.sdk,n=Object.keys(this._integrations);r&&n.length>0&&(r.integrations=n)},e.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},e.prototype._captureEvent=function(t,r,n){return this._processEvent(t,r,n).then(function(i){return i.event_id},function(i){x.k.error(i)})},e.prototype._processEvent=function(t,r,n){var i=this,a=this.getOptions(),o=a.beforeSend,s=a.sampleRate;if(!this._isEnabled())return mt.reject(new pt("SDK not enabled, will not send event."));var c="transaction"===t.type;return!c&&"number"==typeof s&&Math.random()>s?mt.reject(new pt("Discarding event because it's not included in the random sample (sampling rate = "+s+")")):this._prepareEvent(t,n,r).then(function(u){if(null===u)throw new pt("An event processor returned null, will not send event.");if(r&&r.data&&!0===r.data.__sentry__||c||!o)return u;var b=o(u,r);if(void 0===b)throw new pt("`beforeSend` method has to return `null` or a valid event.");return(0,ut.J8)(b)?b.then(function(v){return v},function(v){throw new pt("beforeSend rejected with "+v)}):b}).then(function(u){if(null===u)throw new pt("`beforeSend` returned `null`, will not send event.");var l=n&&n.getSession&&n.getSession();return!c&&l&&i._updateSessionFromEvent(l,u),i._sendEvent(u),u}).then(null,function(u){throw u instanceof pt?u:(i.captureException(u,{data:{__sentry__:!0},originalException:u}),new pt("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+u))})},e.prototype._process=function(t){var r=this;this._processing+=1,t.then(function(n){return r._processing-=1,n},function(n){return r._processing-=1,n})},e}();(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"})(Ae||(Ae={})),function(e){e.fromHttpCode=function(r){return r>=200&&r<300?e.Success:429===r?e.RateLimit:r>=400&&r<500?e.Invalid:r>=500?e.Failed:e.Unknown}}(Ae||(Ae={}));var Ya=function(){function e(){}return e.prototype.sendEvent=function(t){return mt.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:Ae.Skipped})},e.prototype.close=function(t){return mt.resolve(!0)},e}(),Va=function(){function e(t){this._options=t,this._options.dsn||x.k.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(t,r){throw new pt("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(t,r,n){throw new pt("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,function(r){x.k.error("Error while sending event: "+r)})},e.prototype.sendSession=function(t){this._transport.sendSession?this._transport.sendSession(t).then(null,function(r){x.k.error("Error while sending session: "+r)}):x.k.warn("Dropping session because custom transport doesn't implement sendSession")},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new Ya},e}();function Fr(){if(!("fetch"in(0,N.Rf)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function Cn(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Xa(){if(!Fr())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}var Ue="?",Qa=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Za=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,to=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,eo=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ro=/\((\S*)(?::(\d+))(?::(\d+))\)/,no=/Minified React error #\d+;/i;function je(e){var t=null,r=0;e&&("number"==typeof e.framesToPop?r=e.framesToPop:no.test(e.message)&&(r=1));try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var o,t=e.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,n=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=t.split("\n"),a=[],s=0;s<i.length;s+=2){var c=null;(o=r.exec(i[s]))?c={url:o[2],func:o[3],args:[],line:+o[1],column:null}:(o=n.exec(i[s]))&&(c={url:o[6],func:o[3]||o[4],args:o[5]?o[5].split(","):[],line:+o[1],column:+o[2]}),c&&(!c.func&&c.line&&(c.func="?"),a.push(c))}return a.length?{message:Hr(e),name:e.name,stack:a}:null}(e))return Pn(t,r)}catch(n){}try{if(t=function(e){if(!e||!e.stack)return null;for(var i,a,o,t=[],r=e.stack.split("\n"),s=0;s<r.length;++s){if(a=Qa.exec(r[s])){var c=a[2]&&0===a[2].indexOf("native");a[2]&&0===a[2].indexOf("eval")&&(i=ro.exec(a[2]))&&(a[2]=i[1],a[3]=i[2],a[4]=i[3]),o={url:a[2]&&0===a[2].indexOf("address at ")?a[2].substr("address at ".length):a[2],func:a[1]||Ue,args:c?[a[2]]:[],line:a[3]?+a[3]:null,column:a[4]?+a[4]:null}}else if(a=to.exec(r[s]))o={url:a[2],func:a[1]||Ue,args:[],line:+a[3],column:a[4]?+a[4]:null};else{if(!(a=Za.exec(r[s])))continue;a[3]&&a[3].indexOf(" > eval")>-1&&(i=eo.exec(a[3]))?(a[1]=a[1]||"eval",a[3]=i[1],a[4]=i[2],a[5]=""):0===s&&!a[5]&&void 0!==e.columnNumber&&(t[0].column=e.columnNumber+1),o={url:a[3],func:a[1]||Ue,args:a[2]?a[2].split(","):[],line:a[4]?+a[4]:null,column:a[5]?+a[5]:null}}!o.func&&o.line&&(o.func=Ue),t.push(o)}return t.length?{message:Hr(e),name:e.name,stack:t}:null}(e))return Pn(t,r)}catch(n){}return{message:Hr(e),name:e&&e.name,stack:[],failed:!0}}function Pn(e,t){try{return T(T({},e),{stack:e.stack.slice(t)})}catch(r){return e}}function Hr(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function kn(e){var t=Br(e.stack),r={type:e.name,value:e.message};return t&&t.length&&(r.stacktrace={frames:t}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function An(e){return{exception:{values:[kn(e)]}}}function Br(e){if(!e||!e.length)return[];var t=e,r=t[0].func||"",n=t[t.length-1].func||"";return(-1!==r.indexOf("captureMessage")||-1!==r.indexOf("captureException"))&&(t=t.slice(1)),-1!==n.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,50).map(function(i){return{colno:null===i.column?void 0:i.column,filename:i.url||t[0].url,function:i.func||"?",in_app:!0,lineno:null===i.line?void 0:i.line}}).reverse()}function Un(e,t,r){var i=$r(t,r&&r.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return(0,N.EG)(i,{handled:!0,type:"generic"}),i.level=g.Error,r&&r.event_id&&(i.event_id=r.event_id),mt.resolve(i)}function jn(e,t,r,n){void 0===r&&(r=g.Info);var a=zr(t,n&&n.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return a.level=r,n&&n.event_id&&(a.event_id=n.event_id),mt.resolve(a)}function $r(e,t,r){var n;if(void 0===r&&(r={}),(0,ut.VW)(e)&&e.error)return n=An(je(e=e.error));if((0,ut.TX)(e)||(0,ut.fm)(e)){var a=e,o=a.name||((0,ut.TX)(a)?"DOMError":"DOMException"),s=a.message?o+": "+a.message:o;return n=zr(s,t,r),(0,N.Db)(n,s),"code"in a&&(n.tags=T(T({},n.tags),{"DOMException.code":""+a.code})),n}return(0,ut.VZ)(e)?n=An(je(e)):(0,ut.PO)(e)||(0,ut.cO)(e)?(n=function(e,t,r){var n={exception:{values:[{type:(0,ut.cO)(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:"Non-Error "+(r?"promise rejection":"exception")+" captured with keys: "+(0,nt.zf)(e)}]},extra:{__serialized__:(0,nt.Qy)(e)}};if(t){var a=Br(je(t).stack);n.stacktrace={frames:a}}return n}(e,t,r.rejection),(0,N.EG)(n,{synthetic:!0}),n):(n=zr(e,t,r),(0,N.Db)(n,""+e,void 0),(0,N.EG)(n,{synthetic:!0}),n)}function zr(e,t,r){void 0===r&&(r={});var n={message:e};if(r.attachStacktrace&&t){var a=Br(je(t).stack);n.stacktrace={frames:a}}return n}function Ln(e){if(e.metadata&&e.metadata.sdk){var t=e.metadata.sdk;return{name:t.name,version:t.version}}}function uo(e,t){return t&&(e.sdk=e.sdk||{name:t.name,version:t.version},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=Kt(e.sdk.integrations||[],t.integrations||[]),e.sdk.packages=Kt(e.sdk.packages||[],t.packages||[])),e}function Dn(e,t){var r=Ln(t);return{body:JSON.stringify(_t({sent_at:(new Date).toISOString()},r&&{sdk:r}))+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(e),type:"session",url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function Mn(e,t){var r=Ln(t),n=e.type||"event",i="transaction"===n,a=e.debug_meta||{},o=a.transactionSampling,s=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(a,["transactionSampling"]),c=o||{},u=c.method,l=c.rate;0===Object.keys(s).length?delete e.debug_meta:e.debug_meta=s;var b={body:JSON.stringify(r?uo(e,t.metadata.sdk):e),type:n,url:i?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};if(i){var z=JSON.stringify(_t({event_id:e.event_id,sent_at:(new Date).toISOString()},r&&{sdk:r}))+"\n"+JSON.stringify({type:e.type,sample_rates:[{id:u,rate:l}]})+"\n"+b.body;b.body=z}return b}var Fn=function(){function e(t,r){void 0===r&&(r={}),this.dsn=t,this._dsnObject=new In(t),this.metadata=r}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.getBaseApiEndpoint=function(){var t=this._dsnObject,r=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return r+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"},e.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},e.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},e.prototype.getRequestHeaders=function(t,r){var n=this._dsnObject,i=["Sentry sentry_version=7"];return i.push("sentry_client="+t+"/"+r),i.push("sentry_key="+n.publicKey),n.pass&&i.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},e.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var r=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",i=[];for(var a in i.push("dsn="+r.toString()),t)if("dsn"!==a)if("user"===a){if(!t.user)continue;t.user.name&&i.push("name="+encodeURIComponent(t.user.name)),t.user.email&&i.push("email="+encodeURIComponent(t.user.email))}else i.push(encodeURIComponent(a)+"="+encodeURIComponent(t[a]));return i.length?n+"?"+i.join("&"):n},e.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},e.prototype._getIngestEndpoint=function(t){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+t+"/"},e.prototype._encodedAuth=function(){var r={sentry_key:this._dsnObject.publicKey,sentry_version:"7"};return(0,nt._j)(r)},e}(),co=function(){function e(t){this._limit=t,this._buffer=[]}return e.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},e.prototype.add=function(t){var r=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then(function(){return r.remove(t)}).then(null,function(){return r.remove(t).then(null,function(){})}),t):mt.reject(new pt("Not adding Promise due to buffer limit reached."))},e.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(t){var r=this;return new mt(function(n){var i=setTimeout(function(){t&&t>0&&n(!1)},t);mt.all(r._buffer).then(function(){clearTimeout(i),n(!0)}).then(null,function(){n(!0)})})},e}(),Wr=function(){function e(t){this.options=t,this._buffer=new co(30),this._rateLimits={},this._api=new Fn(t.dsn,t._metadata),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return e.prototype.sendEvent=function(t){throw new pt("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(t){return this._buffer.drain(t)},e.prototype._handleResponse=function(t){var r=t.requestType,n=t.response,i=t.headers,a=t.resolve,o=t.reject,s=I.fromHttpCode(n.status);this._handleRateLimit(i)&&x.k.warn("Too many requests, backing off until: "+this._disabledUntil(r)),s!==I.Success?o(n):a({status:s})},e.prototype._disabledUntil=function(t){return this._rateLimits[t]||this._rateLimits.all},e.prototype._isRateLimited=function(t){return this._disabledUntil(t)>new Date(Date.now())},e.prototype._handleRateLimit=function(t){var r,n,i,a,o=Date.now(),s=t["x-sentry-rate-limits"],c=t["retry-after"];if(s){try{for(var u=k(s.trim().split(",")),l=u.next();!l.done;l=u.next()){var v=l.value.split(":",2),O=parseInt(v[0],10),z=1e3*(isNaN(O)?60:O);try{for(var Q=(i=void 0,k(v[1].split(";"))),vt=Q.next();!vt.done;vt=Q.next()){var Lt=vt.value;this._rateLimits[Lt||"all"]=new Date(o+z)}}catch(Yt){i={error:Yt}}finally{try{vt&&!vt.done&&(a=Q.return)&&a.call(Q)}finally{if(i)throw i.error}}}}catch(Yt){r={error:Yt}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return!0}return!!c&&(this._rateLimits.all=new Date(o+(0,N.JY)(o,c)),!0)},e}();var Hn=function(e){function t(r,n){void 0===n&&(n=function(){var e,t,r=(0,N.Rf)(),n=r.document;if("function"==typeof(null===(e=n)||void 0===e?void 0:e.createElement))try{var i=n.createElement("iframe");if(i.hidden=!0,n.head.appendChild(i),null===(t=i.contentWindow)||void 0===t?void 0:t.fetch)return i.contentWindow.fetch.bind(r);n.head.removeChild(i)}catch(a){x.k.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",a)}return r.fetch.bind(r)}());var i=e.call(this,r)||this;return i._fetch=n,i}return j(t,e),t.prototype.sendEvent=function(r){return this._sendRequest(Mn(r,this._api),r)},t.prototype.sendSession=function(r){return this._sendRequest(Dn(r,this._api),r)},t.prototype._sendRequest=function(r,n){var i=this;if(this._isRateLimited(r.type))return Promise.reject({event:n,type:r.type,reason:"Transport locked till "+this._disabledUntil(r.type)+" due to too many requests.",status:429});var a={body:r.body,method:"POST",referrerPolicy:Xa()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(a,this.options.fetchParameters),void 0!==this.options.headers&&(a.headers=this.options.headers),this._buffer.add(new mt(function(o,s){i._fetch(r.url,a).then(function(c){var u={"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")};i._handleResponse({requestType:r.type,response:c,headers:u,resolve:o,reject:s})}).catch(s)}))},t}(Wr),Bn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return j(t,e),t.prototype.sendEvent=function(r){return this._sendRequest(Mn(r,this._api),r)},t.prototype.sendSession=function(r){return this._sendRequest(Dn(r,this._api),r)},t.prototype._sendRequest=function(r,n){var i=this;return this._isRateLimited(r.type)?Promise.reject({event:n,type:r.type,reason:"Transport locked till "+this._disabledUntil(r.type)+" due to too many requests.",status:429}):this._buffer.add(new mt(function(a,o){var s=new XMLHttpRequest;for(var c in s.onreadystatechange=function(){if(4===s.readyState){var u={"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")};i._handleResponse({requestType:r.type,response:s,headers:u,resolve:a,reject:o})}},s.open("POST",r.url),i.options.headers)i.options.headers.hasOwnProperty(c)&&s.setRequestHeader(c,i.options.headers[c]);s.send(r.body)}))},t}(Wr),fo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return j(t,e),t.prototype.eventFromException=function(r,n){return Un(this._options,r,n)},t.prototype.eventFromMessage=function(r,n,i){return void 0===n&&(n=g.Info),jn(this._options,r,n,i)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var r=T(T({},this._options.transportOptions),{dsn:this._options.dsn,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(r):Fr()?new Hn(r):new Bn(r)},t}(Va),Gr=0;function $n(){return Gr>0}function ho(){Gr+=1,setTimeout(function(){Gr-=1})}function ae(e,t,r){if(void 0===t&&(t={}),"function"!=typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(o){return e}var n=function(){var o=Array.prototype.slice.call(arguments);try{r&&"function"==typeof r&&r.apply(this,arguments);var s=o.map(function(c){return ae(c,t)});return e.handleEvent?e.handleEvent.apply(this,s):e.apply(this,s)}catch(c){throw ho(),Rn(function(u){u.addEventProcessor(function(l){var b=T({},l);return t.mechanism&&((0,N.Db)(b,void 0,void 0),(0,N.EG)(b,t.mechanism)),b.extra=T(T({},b.extra),{arguments:o}),b}),Lr(c)}),c}};try{for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}catch(o){}e.prototype=e.prototype||{},n.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:n}),Object.defineProperties(n,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:function(){return e.name}})}catch(o){}return n}function zn(e){if(void 0===e&&(e={}),e.eventId)if(e.dsn){var t=document.createElement("script");t.async=!0,t.src=new Fn(e.dsn).getReportDialogEndpoint(e),e.onLoad&&(t.onload=e.onLoad),(document.head||document.body).appendChild(t)}else x.k.error("Missing dsn option in showReportDialog call");else x.k.error("Missing eventId option in showReportDialog call")}var er,oe=S(74717),ft=(0,N.Rf)(),Le={},Wn={};function po(e){if(!Wn[e])switch(Wn[e]=!0,e){case"console":"console"in ft&&["debug","info","warn","error","log","assert"].forEach(function(e){e in ft.console&&(0,nt.hl)(ft.console,e,function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];kt("console",{args:r,level:e}),t&&Function.prototype.apply.call(t,ft.console,r)}})});break;case"dom":!function(){if("document"in ft){var e=kt.bind(null,"dom"),t=Gn(e,!0);ft.document.addEventListener("click",t,!1),ft.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(function(r){var n=ft[r]&&ft[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||((0,nt.hl)(n,"addEventListener",function(i){return function(a,o,s){if("click"===a||"keypress"==a)try{var c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},l=u[a]=u[a]||{refCount:0};if(!l.handler){var b=Gn(e);l.handler=b,i.call(this,a,b,s)}l.refCount+=1}catch(v){}return i.call(this,a,o,s)}}),(0,nt.hl)(n,"removeEventListener",function(i){return function(a,o,s){if("click"===a||"keypress"==a)try{var c=this,u=c.__sentry_instrumentation_handlers__||{},l=u[a];l&&(l.refCount-=1,l.refCount<=0&&(i.call(this,a,l.handler,s),l.handler=void 0,delete u[a]),0===Object.keys(u).length&&delete c.__sentry_instrumentation_handlers__)}catch(b){}return i.call(this,a,o,s)}}))})}}();break;case"xhr":!function(){if("XMLHttpRequest"in ft){var e=[],t=[],r=XMLHttpRequest.prototype;(0,nt.hl)(r,"open",function(n){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=this,s=i[1];o.__sentry_xhr__={method:(0,ut.HD)(i[0])?i[0].toUpperCase():i[0],url:i[1]},(0,ut.HD)(s)&&"POST"===o.__sentry_xhr__.method&&s.match(/sentry_key/)&&(o.__sentry_own_request__=!0);var c=function(){if(4===o.readyState){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(b){}try{var u=e.indexOf(o);if(-1!==u){e.splice(u);var l=t.splice(u)[0];o.__sentry_xhr__&&void 0!==l[0]&&(o.__sentry_xhr__.body=l[0])}}catch(b){}kt("xhr",{args:i,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}};return"onreadystatechange"in o&&"function"==typeof o.onreadystatechange?(0,nt.hl)(o,"onreadystatechange",function(u){return function(){for(var l=[],b=0;b<arguments.length;b++)l[b]=arguments[b];return c(),u.apply(o,l)}}):o.addEventListener("readystatechange",c),n.apply(o,i)}}),(0,nt.hl)(r,"send",function(n){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return e.push(this),t.push(i),kt("xhr",{args:i,startTimestamp:Date.now(),xhr:this}),n.apply(this,i)}})}}();break;case"fetch":!function(){if(!Fr())return!1;var e=(0,N.Rf)();if(Cn(e.fetch))return!0;var t=!1,r=e.document;if(r&&"function"==typeof r.createElement)try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=Cn(n.contentWindow.fetch)),r.head.removeChild(n)}catch(i){x.k.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return t}()||(0,nt.hl)(ft,"fetch",function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n={args:t,fetchData:{method:mo(t),url:yo(t)},startTimestamp:Date.now()};return kt("fetch",(0,Xt.pi)({},n)),e.apply(ft,t).then(function(i){return kt("fetch",(0,Xt.pi)((0,Xt.pi)({},n),{endTimestamp:Date.now(),response:i})),i},function(i){throw kt("fetch",(0,Xt.pi)((0,Xt.pi)({},n),{endTimestamp:Date.now(),error:i})),i})}});break;case"history":!function(){if(!function(){var e=(0,N.Rf)(),t=e.chrome,r=t&&t.app&&t.app.runtime,n="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!r&&n}())return;var e=ft.onpopstate;function t(r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=n.length>2?n[2]:void 0;if(a){var o=er,s=String(a);er=s,kt("history",{from:o,to:s})}return r.apply(this,n)}}ft.onpopstate=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=ft.location.href,a=er;if(er=i,kt("history",{from:a,to:i}),e)return e.apply(this,r)},(0,nt.hl)(ft.history,"pushState",t),(0,nt.hl)(ft.history,"replaceState",t)}();break;case"error":qr=ft.onerror,ft.onerror=function(e,t,r,n,i){return kt("error",{column:n,error:i,line:r,msg:e,url:t}),!!qr&&qr.apply(this,arguments)};break;case"unhandledrejection":Yr=ft.onunhandledrejection,ft.onunhandledrejection=function(e){return kt("unhandledrejection",e),!Yr||Yr.apply(this,arguments)};break;default:x.k.warn("unknown instrumentation type:",e)}}function It(e){!e||"string"!=typeof e.type||"function"!=typeof e.callback||(Le[e.type]=Le[e.type]||[],Le[e.type].push(e.callback),po(e.type))}function kt(e,t){var r,n;if(e&&Le[e])try{for(var i=(0,Xt.XA)(Le[e]||[]),a=i.next();!a.done;a=i.next()){var o=a.value;try{o(t)}catch(s){x.k.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+(0,oe.$)(o)+"\nError: "+s)}}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}function mo(e){return void 0===e&&(e=[]),"Request"in ft&&(0,ut.V9)(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function yo(e){return void 0===e&&(e=[]),"string"==typeof e[0]?e[0]:"Request"in ft&&(0,ut.V9)(e[0],Request)?e[0].url:String(e[0])}var rr,nr;function Gn(e,t){return void 0===t&&(t=!1),function(r){if(r&&nr!==r&&!function(e){if("keypress"!==e.type)return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(r){}return!0}(r)){var n="keypress"===r.type?"input":r.type;(void 0===rr||function(e,t){if(!e||e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(r){}return!1}(nr,r))&&(e({event:r,name:n,global:t}),nr=r),clearTimeout(rr),rr=ft.setTimeout(function(){rr=void 0},1e3)}}}var qr=null;var Yr=null;var qn=S(44711),Vr=function(){function e(t){this.name=e.id,this._options=T({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(t){!this._options.sentry||ot().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,N.jH)(t)},{event:t})},e.prototype.setupOnce=function(){var t=this;this._options.console&&It({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._consoleBreadcrumb.apply(t,y(r))},type:"console"}),this._options.dom&&It({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._domBreadcrumb.apply(t,y(r))},type:"dom"}),this._options.xhr&&It({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._xhrBreadcrumb.apply(t,y(r))},type:"xhr"}),this._options.fetch&&It({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._fetchBreadcrumb.apply(t,y(r))},type:"fetch"}),this._options.history&&It({callback:function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];t._historyBreadcrumb.apply(t,y(r))},type:"history"})},e.prototype._consoleBreadcrumb=function(t){var r={category:"console",data:{arguments:t.args,logger:"console"},level:g.fromString(t.level),message:(0,Dt.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;r.message="Assertion failed: "+((0,Dt.nK)(t.args.slice(1)," ")||"console.assert"),r.data.arguments=t.args.slice(1)}ot().addBreadcrumb(r,{input:t.args,level:t.level})},e.prototype._domBreadcrumb=function(t){var r;try{r=t.event.target?(0,qn.R)(t.event.target):(0,qn.R)(t.event)}catch(n){r="<unknown>"}0!==r.length&&ot().addBreadcrumb({category:"ui."+t.name,message:r},{event:t.event,name:t.name,global:t.global})},e.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var r=t.xhr.__sentry_xhr__||{},n=r.method,i=r.url,a=r.status_code,o=r.body;ot().addBreadcrumb({category:"xhr",data:{method:n,url:i,status_code:a},type:"http"},{xhr:t.xhr,input:o})}else;},e.prototype._fetchBreadcrumb=function(t){!t.endTimestamp||t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?ot().addBreadcrumb({category:"fetch",data:t.fetchData,level:g.Error,type:"http"},{data:t.error,input:t.args}):ot().addBreadcrumb({category:"fetch",data:T(T({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response}))},e.prototype._historyBreadcrumb=function(t){var r=(0,N.Rf)(),n=t.from,i=t.to,a=(0,N.en)(r.location.href),o=(0,N.en)(n),s=(0,N.en)(i);o.path||(o=a),a.protocol===s.protocol&&a.host===s.host&&(i=s.relative),a.protocol===o.protocol&&a.host===o.host&&(n=o.relative),ot().addBreadcrumb({category:"navigation",data:{from:n,to:i}})},e.id="Breadcrumbs",e}(),Yn=function(e){function t(r){void 0===r&&(r={});return r._metadata=r._metadata||{},r._metadata.sdk=r._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Pe}],version:Pe},e.call(this,fo,r)||this}return j(t,e),t.prototype.showReportDialog=function(r){if(void 0===r&&(r={}),(0,N.Rf)().document){if(!this._isEnabled())return void x.k.error("Trying to call showReportDialog with Sentry Client disabled");zn(T(T({},r),{dsn:r.dsn||this.getDsn()}))}},t.prototype._prepareEvent=function(r,n,i){return r.platform=r.platform||"javascript",e.prototype._prepareEvent.call(this,r,n,i)},t.prototype._sendEvent=function(r){var n=this.getIntegration(Vr);n&&n.addSentryBreadcrumb(r),e.prototype._sendEvent.call(this,r)},t}(qa);var Kn,xo=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Vn=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){xe(function(t){var r=ot();if(!r)return t;var n=r.getIntegration(e);if(n){var i=r.getClient(),a=i?i.getOptions():{},o=n._mergeOptions(a);if(n._shouldDropEvent(t,o))return null}return t})},e.prototype._shouldDropEvent=function(t,r){return this._isSentryError(t,r)?(x.k.warn("Event dropped due to being internal Sentry Error.\nEvent: "+(0,N.jH)(t)),!0):this._isIgnoredError(t,r)?(x.k.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,N.jH)(t)),!0):this._isDeniedUrl(t,r)?(x.k.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,N.jH)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isAllowedUrl(t,r)&&(x.k.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,N.jH)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},e.prototype._isSentryError=function(t,r){if(!r.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(n){return!1}},e.prototype._isIgnoredError=function(t,r){return!(!r.ignoreErrors||!r.ignoreErrors.length)&&this._getPossibleEventMessages(t).some(function(n){return r.ignoreErrors.some(function(i){return(0,Dt.zC)(n,i)})})},e.prototype._isDeniedUrl=function(t,r){if(!r.denyUrls||!r.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&r.denyUrls.some(function(i){return(0,Dt.zC)(n,i)})},e.prototype._isAllowedUrl=function(t,r){if(!r.allowUrls||!r.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||r.allowUrls.some(function(i){return(0,Dt.zC)(n,i)})},e.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{allowUrls:Kt(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:Kt(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:Kt(this._options.ignoreErrors||[],t.ignoreErrors||[],xo),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},e.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var r=t.exception.values&&t.exception.values[0]||{},n=r.type,i=void 0===n?"":n,a=r.value,o=void 0===a?"":a;return[""+o,i+": "+o]}catch(s){return x.k.error("Cannot extract message for event "+(0,N.jH)(t)),[]}return[]},e.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var r=t.stacktrace.frames;return r&&r[r.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(i){return x.k.error("Cannot extract url for event "+(0,N.jH)(t)),null}},e.id="InboundFilters",e}(),Xn=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){Kn=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this.__sentry_original__||this;return Kn.apply(n,t)}},e.id="FunctionToString",e}(),Co=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Jn=function(){function e(t){this.name=e.id,this._options=T({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var t=(0,N.Rf)();(this._options.setTimeout&&(0,nt.hl)(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&(0,nt.hl)(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&(0,nt.hl)(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&(0,nt.hl)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget)&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:Co).forEach(this._wrapEventTarget.bind(this))},e.prototype._wrapTimeFunction=function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=r[0];return r[0]=ae(i,{mechanism:{data:{function:(0,oe.$)(t)},handled:!0,type:"instrument"}}),t.apply(this,r)}},e.prototype._wrapRAF=function(t){return function(r){return t.call(this,ae(r,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,oe.$)(t)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(t){var r=(0,N.Rf)(),n=r[t]&&r[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||((0,nt.hl)(n,"addEventListener",function(i){return function(a,o,s){try{"function"==typeof o.handleEvent&&(o.handleEvent=ae(o.handleEvent.bind(o),{mechanism:{data:{function:"handleEvent",handler:(0,oe.$)(o),target:t},handled:!0,type:"instrument"}}))}catch(c){}return i.call(this,a,ae(o,{mechanism:{data:{function:"addEventListener",handler:(0,oe.$)(o),target:t},handled:!0,type:"instrument"}}),s)}}),(0,nt.hl)(n,"removeEventListener",function(i){return function(a,o,s){var c,u=o;try{var l=null===(c=u)||void 0===c?void 0:c.__sentry_wrapped__;l&&i.call(this,a,l,s)}catch(b){}return i.call(this,a,u,s)}}))},e.prototype._wrapXHR=function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=this,a=["onload","onerror","onprogress","onreadystatechange"];return a.forEach(function(o){o in i&&"function"==typeof i[o]&&(0,nt.hl)(i,o,function(s){var c={mechanism:{data:{function:o,handler:(0,oe.$)(s)},handled:!0,type:"instrument"}};return s.__sentry_original__&&(c.mechanism.data.handler=(0,oe.$)(s.__sentry_original__)),ae(s,c)})}),t.apply(this,r)}},e.id="TryCatch",e}(),Qn=function(){function e(t){this.name=e.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=T({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(x.k.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(x.k.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){var t=this;this._onErrorHandlerInstalled||(It({callback:function(r){var n=r.error,i=ot(),a=i.getIntegration(e),o=n&&!0===n.__sentry_own_request__;if(a&&!$n()&&!o){var s=i.getClient(),c=(0,ut.pt)(n)?t._eventFromIncompleteOnError(r.msg,r.url,r.line,r.column):t._enhanceEventWithInitialFrame($r(n,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),r.url,r.line,r.column);(0,N.EG)(c,{handled:!1,type:"onerror"}),i.captureEvent(c,{originalException:n})}},type:"error"}),this._onErrorHandlerInstalled=!0)},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){var t=this;this._onUnhandledRejectionHandlerInstalled||(It({callback:function(r){var n=r;try{"reason"in r?n=r.reason:"detail"in r&&"reason"in r.detail&&(n=r.detail.reason)}catch(u){}var i=ot(),a=i.getIntegration(e),o=n&&!0===n.__sentry_own_request__;if(!a||$n()||o)return!0;var s=i.getClient(),c=(0,ut.pt)(n)?t._eventFromRejectionWithPrimitive(n):$r(n,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});c.level=g.Error,(0,N.EG)(c,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(c,{originalException:n})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},e.prototype._eventFromIncompleteOnError=function(t,r,n,i){var s,o=(0,ut.VW)(t)?t.message:t;if((0,ut.HD)(o)){var c=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);c&&(s=c[1],o=c[2])}var u={exception:{values:[{type:s||"Error",value:o}]}};return this._enhanceEventWithInitialFrame(u,r,n,i)},e.prototype._eventFromRejectionWithPrimitive=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}},e.prototype._enhanceEventWithInitialFrame=function(t,r,n,i){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var a=isNaN(parseInt(i,10))?void 0:i,o=isNaN(parseInt(n,10))?void 0:n,s=(0,ut.HD)(r)&&r.length>0?r:(0,N.l4)();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:a,filename:s,function:"?",in_app:!0,lineno:o}),t},e.id="GlobalHandlers",e}(),Zn=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||"cause",this._limit=t.limit||5}return e.prototype.setupOnce=function(){xe(function(t,r){var n=ot().getIntegration(e);return n?n._handler(t,r):t})},e.prototype._handler=function(t,r){if(!(t.exception&&t.exception.values&&r&&(0,ut.V9)(r.originalException,Error)))return t;var n=this._walkErrorTree(r.originalException,this._key);return t.exception.values=y(n,t.exception.values),t},e.prototype._walkErrorTree=function(t,r,n){if(void 0===n&&(n=[]),!(0,ut.V9)(t[r],Error)||n.length+1>=this._limit)return n;var a=kn(je(t[r]));return this._walkErrorTree(t[r],r,y([a],n))},e.id="LinkedErrors",e}(),ye=(0,N.Rf)(),ti=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){xe(function(t){var r,n,i;if(ot().getIntegration(e)){if(!ye.navigator&&!ye.location&&!ye.document)return t;var a=(null===(r=t.request)||void 0===r?void 0:r.url)||(null===(n=ye.location)||void 0===n?void 0:n.href),o=(ye.document||{}).referrer,s=(ye.navigator||{}).userAgent,c=T(T(T({},null===(i=t.request)||void 0===i?void 0:i.headers),o&&{Referer:o}),s&&{"User-Agent":s}),u=T(T({},a&&{url:a}),{headers:c});return T(T({},t),{request:u})}return t})},e.id="UserAgent",e}(),ei=[new Vn,new Xn,new Jn,new Vr,new Qn,new Zn,new ti];function Ao(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=ei),void 0===e.release){var t=(0,N.Rf)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),function(e,t){!0===t.debug&&x.k.enable();var r=ot(),n=new e(t);r.bindClient(n)}(Yn,e),e.autoSessionTracking&&function(){if(void 0===(0,N.Rf)().document)return void x.k.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");var r=ot();"startSession"in r&&(r.startSession(),r.captureSession(),It({callback:function(){r.startSession(),r.captureSession()},type:"history"}))}()}function ri(e){void 0===e&&(e={}),e.eventId||(e.eventId=ot().lastEventId());var t=ot().getClient();t&&t.showReportDialog(e)}function Uo(){return ot().lastEventId()}function jo(){}function Lo(e){e()}function Do(e){var t=ot().getClient();return t?t.flush(e):mt.reject(!1)}function Mo(e){var t=ot().getClient();return t?t.close(e):mt.reject(!1)}function No(e){return ae(e)()}var Ho="sentry.javascript.browser",ni={},Kr=(0,N.Rf)();Kr.Sentry&&Kr.Sentry.Integrations&&(ni=Kr.Sentry.Integrations);var Bo=T(T(T({},ni),W),K);function $o(e){e._metadata=e._metadata||{},e._metadata.sdk={name:"sentry.javascript.angular",packages:[{name:"npm:@sentry/angular",version:Pe}],version:Pe},Ao(e)}var _e=function(){return(_e=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);return t}).apply(this,arguments)};function ir(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}var Wo=S(53882),h=S(2316),Go=function(){function e(t){this._options=_e({logErrors:!0},t)}return e.prototype.handleError=function(t){var r=this._extractError(t)||"Handled unknown error",n=Lr(r);this._options.logErrors&&console.error(r),this._options.showDialog&&ri(_e(_e({},this._options.dialogOptions),{eventId:n}))},e.prototype._extractError=function(t){if(this._options.extractor){var r=this._defaultExtractor.bind(this);return this._options.extractor(t,r)}return this._defaultExtractor(t)},e.prototype._defaultExtractor=function(t){var r=t;return r&&r.ngOriginalError&&(r=r.ngOriginalError),"string"==typeof r||r instanceof Error?r:r instanceof Wo.UA?r.error instanceof Error?r.error:r.error instanceof ErrorEvent&&r.error.message?r.error.message:"string"==typeof r.error?"Server returned code "+r.status+' with body "'+r.error+'"':r.message:null},e=ir([(0,h.GSi)({providedIn:"root"})],e)}();function qo(e){return new Go(e)}var bt=S(54364),xt=S(30400),Y=S(81134),At=S(76491),Yo=S(61486),be=S(89544),ai=S(25239),Vo=S(83972),se=S(8117);function oi(e){return new be.y(t=>{let r;try{r=e()}catch(i){return void t.error(i)}return(r?(0,xt.D)(r):(0,se.c)()).subscribe(t)})}var Ko=S(92494),De=S(79441),ht=S(33927),ue=S(79902),si=S(53466),Xo=S(1143),ui=S(71003);function ci(e,t){let r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new Jo(e,t,r))}}class Jo{constructor(t,r,n=!1){this.accumulator=t,this.seed=r,this.hasSeed=n}call(t,r){return r.subscribe(new Qo(t,this.accumulator,this.seed,this.hasSeed))}}class Qo extends ui.L{constructor(t,r,n,i){super(t),this.accumulator=r,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const r=this.index++;let n;try{n=this.accumulator(this.seed,t,r)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}var ce=S(9170),le=S(18293),Me=S(56816),Zo=S(84873);function Jr(e){return function(r){return 0===e?(0,se.c)():r.lift(new ts(e))}}class ts{constructor(t){if(this.total=t,this.total<0)throw new Zo.W}call(t,r){return r.subscribe(new es(t,this.total))}}class es extends ui.L{constructor(t,r){super(t),this.total=r,this.ring=new Array,this.count=0}_next(t){const r=this.ring,n=this.total,i=this.count++;if(r.length<n)r.push(t);else{r[i%n]=t}}_complete(){const t=this.destination;let r=this.count;if(r>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let a=0;a<n;a++){const o=r++%n;t.next(i[o])}}t.complete()}}var rs=S(83240),ns=S(51253),is=S(87206);var Se=S(20088),Tt=S(85816),St=S(98636),os=S(97085),ss=S(71435),Qr=S(96324);class $t{constructor(t,r){this.id=t,this.url=r}}class or extends $t{constructor(t,r,n="imperative",i=null){super(t,r),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class we extends $t{constructor(t,r,n){super(t,r),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class li extends $t{constructor(t,r,n){super(t,r),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class us extends $t{constructor(t,r,n){super(t,r),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cs extends $t{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ls extends $t{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fs extends $t{constructor(t,r,n,i,a){super(t,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hs extends $t{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ds extends $t{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fi{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hi{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ps{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gs{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vs{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ms{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class di{constructor(t,r,n){this.routerEvent=t,this.position=r,this.anchor=n}toString(){const t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}}const X="primary";class ys{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Ee(e){return new ys(e)}const pi="ngNavigationCancelingError";function Zr(e){const t=Error("NavigationCancelingError: "+e);return t[pi]=!0,t}function bs(e,t,r){const n=r.path.split("/");if(n.length>e.length||"full"===r.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const i={};for(let a=0;a<n.length;a++){const o=n[a],s=e[a];if(o.startsWith(":"))i[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:e.slice(0,n.length),posParams:i}}function Mt(e,t){const r=e?Object.keys(e):void 0,n=t?Object.keys(t):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let a=0;a<r.length;a++)if(i=r[a],!gi(e[i],t[i]))return!1;return!0}function gi(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),n=[...t].sort();return r.every((i,a)=>n[a]===i)}return e===t}function vi(e){return Array.prototype.concat.apply([],e)}function mi(e){return e.length>0?e[e.length-1]:null}function gt(e,t){for(const r in e)e.hasOwnProperty(r)&&t(e[r],r)}function Nt(e){return(0,h.CqO)(e)?e:(0,h.QGY)(e)?(0,xt.D)(Promise.resolve(e)):(0,Y.of)(e)}const Es={exact:function bi(e,t,r){if(!he(e.segments,t.segments)||!sr(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!e.children[n]||!bi(e.children[n],t.children[n],r))return!1;return!0},subset:Si},yi={exact:function(e,t){return Mt(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>gi(e[r],t[r]))},ignored:()=>!0};function _i(e,t,r){return Es[r.paths](e.root,t.root,r.matrixParams)&&yi[r.queryParams](e.queryParams,t.queryParams)&&!("exact"===r.fragment&&e.fragment!==t.fragment)}function Si(e,t,r){return wi(e,t,t.segments,r)}function wi(e,t,r,n){if(e.segments.length>r.length){const i=e.segments.slice(0,r.length);return!(!he(i,r)||t.hasChildren()||!sr(i,r,n))}if(e.segments.length===r.length){if(!he(e.segments,r)||!sr(e.segments,r,n))return!1;for(const i in t.children)if(!e.children[i]||!Si(e.children[i],t.children[i],n))return!1;return!0}{const i=r.slice(0,e.segments.length),a=r.slice(e.segments.length);return!!(he(e.segments,i)&&sr(e.segments,i,n)&&e.children[X])&&wi(e.children[X],t,a,n)}}function sr(e,t,r){return t.every((n,i)=>yi[r](e[i].parameters,n.parameters))}class fe{constructor(t,r,n){this.root=t,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ee(this.queryParams)),this._queryParamMap}toString(){return xs.serialize(this)}}class J{constructor(t,r){this.segments=t,this.children=r,this.parent=null,gt(r,(n,i)=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cr(this)}}class Ne{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Ee(this.parameters)),this._parameterMap}toString(){return Ri(this)}}function he(e,t){return e.length===t.length&&e.every((r,n)=>r.path===t[n].path)}class ur{}class Ei{parse(t){const r=new Ms(t);return new fe(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){const r=`/${Fe(t.root,!0)}`,n=function(e){const t=Object.keys(e).map(r=>{const n=e[r];return Array.isArray(n)?n.map(i=>`${lr(r)}=${lr(i)}`).join("&"):`${lr(r)}=${lr(n)}`}).filter(r=>!!r);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${r}${n}${"string"==typeof t.fragment?`#${function(e){return encodeURI(e)}(t.fragment)}`:""}`}}const xs=new Ei;function cr(e){return e.segments.map(t=>Ri(t)).join("/")}function Fe(e,t){if(!e.hasChildren())return cr(e);if(t){const r=e.children[X]?Fe(e.children[X],!1):"",n=[];return gt(e.children,(i,a)=>{a!==X&&n.push(`${a}:${Fe(i,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}{const r=function(e,t){let r=[];return gt(e.children,(n,i)=>{i===X&&(r=r.concat(t(n,i)))}),gt(e.children,(n,i)=>{i!==X&&(r=r.concat(t(n,i)))}),r}(e,(n,i)=>i===X?[Fe(e.children[X],!1)]:[`${i}:${Fe(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[X]?`${cr(e)}/${r[0]}`:`${cr(e)}/(${r.join("//")})`}}function Oi(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lr(e){return Oi(e).replace(/%3B/gi,";")}function tn(e){return Oi(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fr(e){return decodeURIComponent(e)}function Ti(e){return fr(e.replace(/\+/g,"%20"))}function Ri(e){return`${tn(e.path)}${function(e){return Object.keys(e).map(t=>`;${tn(t)}=${tn(e[t])}`).join("")}(e.parameters)}`}const As=/^[^\/()?;=#]+/;function hr(e){const t=e.match(As);return t?t[0]:""}const Us=/^[^=?&#]+/;const Ls=/^[^?&#]+/;class Ms{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new J([],{}):new J([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(n[X]=new J(t,r)),n}parseSegment(){const t=hr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ne(fr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const r=hr(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const i=hr(this.remaining);i&&(n=i,this.capture(n))}t[fr(r)]=fr(n)}parseQueryParam(t){const r=function(e){const t=e.match(Us);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const o=function(e){const t=e.match(Ls);return t?t[0]:""}(this.remaining);o&&(n=o,this.capture(n))}const i=Ti(r),a=Ti(n);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(a)}else t[i]=a}parseParens(t){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=hr(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;n.indexOf(":")>-1?(a=n.substr(0,n.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=X);const o=this.parseChildren();r[a]=1===Object.keys(o).length?o[X]:new J([],o),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Ii{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){const r=en(t,this._root);return r?r.children.map(n=>n.value):[]}firstChild(t){const r=en(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){const r=rn(t,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return rn(t,this._root).map(r=>r.value)}}function en(e,t){if(e===t.value)return t;for(const r of t.children){const n=en(e,r);if(n)return n}return null}function rn(e,t){if(e===t.value)return[t];for(const r of t.children){const n=rn(e,r);if(n.length)return n.unshift(t),n}return[]}class zt{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}}function He(e){const t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}class xi extends Ii{constructor(t,r){super(t),this.snapshot=r,nn(this,t)}toString(){return this.snapshot.toString()}}function Ci(e,t){const r=function(e,t){const o=new dr([],{},{},"",{},X,t,null,e.root,-1,{});return new ki("",new zt(o,[]))}(e,t),n=new At.X([new Ne("",{})]),i=new At.X({}),a=new At.X({}),o=new At.X({}),s=new At.X(""),c=new Jt(n,i,o,s,a,X,t,r.root);return c.snapshot=r.root,new xi(new zt(c,[]),r)}class Jt{constructor(t,r,n,i,a,o,s,c){this.url=t,this.params=r,this.queryParams=n,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(t=>Ee(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(t=>Ee(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pi(e,t="emptyOnly"){const r=e.pathFromRoot;let n=0;if("always"!==t)for(n=r.length-1;n>=1;){const i=r[n],a=r[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(a.component)break;n--}}return function(e){return e.reduce((t,r)=>({params:Object.assign(Object.assign({},t.params),r.params),data:Object.assign(Object.assign({},t.data),r.data),resolve:Object.assign(Object.assign({},t.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(n))}class dr{constructor(t,r,n,i,a,o,s,c,u,l,b){this.url=t,this.params=r,this.queryParams=n,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this.routeConfig=c,this._urlSegment=u,this._lastPathIndex=l,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ee(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ee(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ki extends Ii{constructor(t,r){super(r),this.url=t,nn(this,r)}toString(){return Ai(this._root)}}function nn(e,t){t.value._routerState=e,t.children.forEach(r=>nn(e,r))}function Ai(e){const t=e.children.length>0?` { ${e.children.map(Ai).join(", ")} } `:"";return`${e.value}${t}`}function an(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,Mt(t.queryParams,r.queryParams)||e.queryParams.next(r.queryParams),t.fragment!==r.fragment&&e.fragment.next(r.fragment),Mt(t.params,r.params)||e.params.next(r.params),function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!Mt(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.url.next(r.url),Mt(t.data,r.data)||e.data.next(r.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function on(e,t){const r=Mt(e.params,t.params)&&function(e,t){return he(e,t)&&e.every((r,n)=>Mt(r.parameters,t[n].parameters))}(e.url,t.url),n=!e.parent!=!t.parent;return r&&!n&&(!e.parent||on(e.parent,t.parent))}function pr(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=t.value;const i=function(e,t,r){return t.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(n.value,i.value.snapshot))return pr(e,n,i);return pr(e,n)})}(e,t,r);return new zt(n,i)}{if(e.shouldAttach(t.value)){const a=e.retrieve(t.value);if(null!==a){const o=a.route;return Ui(t,o),o}}const n=function(e){return new Jt(new At.X(e.url),new At.X(e.params),new At.X(e.queryParams),new At.X(e.fragment),new At.X(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(a=>pr(e,a));return new zt(n,i)}}function Ui(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)Ui(e.children[r],t.children[r])}function zs(e,t,r,n,i){if(0===r.length)return sn(t.root,t.root,t,n,i);const a=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Li(!0,0,e);let t=0,r=!1;const n=e.reduce((i,a,o)=>{if("object"==typeof a&&null!=a){if(a.outlets){const s={};return gt(a.outlets,(c,u)=>{s[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:s}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===o?(a.split("/").forEach((s,c)=>{0==c&&"."===s||(0==c&&""===s?r=!0:".."===s?t++:""!=s&&i.push(s))}),i):[...i,a]},[]);return new Li(r,t,n)}(r);if(a.toRoot())return sn(t.root,new J([],{}),t,n,i);const o=function(e,t,r){if(e.isAbsolute)return new un(t.root,!0,0);if(-1===r.snapshot._lastPathIndex){const a=r.snapshot._urlSegment,o=a===t.root;return new un(a,o,0)}const n=gr(e.commands[0])?0:1,i=r.snapshot._lastPathIndex+n;return function(e,t,r){let n=e,i=t,a=r;for(;a>i;){if(a-=i,n=n.parent,!n)throw new Error("Invalid number of '../'");i=n.segments.length}return new un(n,!1,i-a)}(r.snapshot._urlSegment,i,e.numberOfDoubleDots)}(a,t,e),s=o.processChildren?vr(o.segmentGroup,o.index,a.commands):Di(o.segmentGroup,o.index,a.commands);return sn(o.segmentGroup,s,t,n,i)}function gr(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Be(e){return"object"==typeof e&&null!=e&&e.outlets}function sn(e,t,r,n,i){let a={};return n&&gt(n,(o,s)=>{a[s]=Array.isArray(o)?o.map(c=>`${c}`):`${o}`}),r.root===e?new fe(t,a,i):new fe(ji(r.root,e,t),a,i)}function ji(e,t,r){const n={};return gt(e.children,(i,a)=>{n[a]=i===t?r:ji(i,t,r)}),new J(e.segments,n)}class Li{constructor(t,r,n){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=n,t&&n.length>0&&gr(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(Be);if(i&&i!==mi(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class un{constructor(t,r,n){this.segmentGroup=t,this.processChildren=r,this.index=n}}function Di(e,t,r){if(e||(e=new J([],{})),0===e.segments.length&&e.hasChildren())return vr(e,t,r);const n=function(e,t,r){let n=0,i=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(n>=r.length)return a;const o=e.segments[i],s=r[n];if(Be(s))break;const c=`${s}`,u=n<r.length-1?r[n+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!Ni(c,u,o))return a;n+=2}else{if(!Ni(c,{},o))return a;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(e,t,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const a=new J(e.segments.slice(0,n.pathIndex),{});return a.children[X]=new J(e.segments.slice(n.pathIndex),e.children),vr(a,0,i)}return n.match&&0===i.length?new J(e.segments,{}):n.match&&!e.hasChildren()?cn(e,t,r):n.match?vr(e,0,i):cn(e,t,r)}function vr(e,t,r){if(0===r.length)return new J(e.segments,{});{const n=function(e){return Be(e[0])?e[0].outlets:{[X]:e}}(r),i={};return gt(n,(a,o)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[o]=Di(e.children[o],t,a))}),gt(e.children,(a,o)=>{void 0===n[o]&&(i[o]=a)}),new J(e.segments,i)}}function cn(e,t,r){const n=e.segments.slice(0,t);let i=0;for(;i<r.length;){const a=r[i];if(Be(a)){const c=Ks(a.outlets);return new J(n,c)}if(0===i&&gr(r[0])){const c=e.segments[t];n.push(new Ne(c.path,Mi(r[0]))),i++;continue}const o=Be(a)?a.outlets[X]:`${a}`,s=i<r.length-1?r[i+1]:null;o&&s&&gr(s)?(n.push(new Ne(o,Mi(s))),i+=2):(n.push(new Ne(o,{})),i++)}return new J(n,{})}function Ks(e){const t={};return gt(e,(r,n)=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=cn(new J([],{}),0,r))}),t}function Mi(e){const t={};return gt(e,(r,n)=>t[n]=`${r}`),t}function Ni(e,t,r){return e==r.path&&Mt(t,r.parameters)}class Js{constructor(t,r,n,i){this.routeReuseStrategy=t,this.futureState=r,this.currState=n,this.forwardEvent=i}activate(t){const r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,t),an(this.futureState.root),this.activateChildRoutes(r,n,t)}deactivateChildRoutes(t,r,n){const i=He(r);t.children.forEach(a=>{const o=a.value.outlet;this.deactivateRoutes(a,i[o],n),delete i[o]}),gt(i,(a,o)=>{this.deactivateRouteAndItsChildren(a,n)})}deactivateRoutes(t,r,n){const i=t.value,a=r?r.value:null;if(i===a)if(i.component){const o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(t,r,o.children)}else this.deactivateChildRoutes(t,r,n);else a&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(t,r){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){const n=r.getContext(t.value.outlet);if(n&&n.outlet){const i=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:a})}}deactivateRouteAndOutlet(t,r){const n=r.getContext(t.value.outlet),i=n&&t.value.component?n.children:r,a=He(t);for(const o of Object.keys(a))this.deactivateRouteAndItsChildren(a[o],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,r,n){const i=He(r);t.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],n),this.forwardEvent(new ms(a.value.snapshot))}),t.children.length&&this.forwardEvent(new gs(t.value.snapshot))}activateRoutes(t,r,n){const i=t.value,a=r?r.value:null;if(an(i),i===a)if(i.component){const o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,r,o.children)}else this.activateChildRoutes(t,r,n);else if(i.component){const o=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),Fi(s.route)}else{const s=function(e){for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(i.snapshot),c=s?s.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=c,o.outlet&&o.outlet.activateWith(i,c),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,n)}}function Fi(e){an(e.value),e.children.forEach(Fi)}class ln{constructor(t,r){this.routes=t,this.module=r}}function Qt(e){return"function"==typeof e}function de(e){return e instanceof fe}const $e=Symbol("INITIAL_VALUE");function ze(){return(0,ue.w)(e=>(0,Yo.aj)(e.map(t=>t.pipe((0,si.q)(1),(0,Xo.O)($e)))).pipe(ci((t,r)=>{let n=!1;return r.reduce((i,a,o)=>i!==$e?i:(a===$e&&(n=!0),n||!1!==a&&o!==r.length-1&&!de(a)?i:a),t)},$e),(0,ce.h)(t=>t!==$e),(0,ht.U)(t=>de(t)?t:!0===t),(0,si.q)(1)))}class Oe{}function Hi(e,t=""){for(let r=0;r<e.length;r++){const n=e[r];iu(n,au(t,n))}}function iu(e,t){e.children&&Hi(e.children,t)}function au(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function fn(e){const t=e.children&&e.children.map(fn),r=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!r.component&&(t||r.loadChildren)&&r.outlet&&r.outlet!==X&&(r.component=Oe),r}function Pt(e){return e.outlet||X}function Bi(e,t){const r=e.filter(n=>Pt(n)===t);return r.push(...e.filter(n=>Pt(n)!==t)),r}Oe.\u0275fac=function(t){return new(t||Oe)},Oe.\u0275cmp=h.Xpm({type:Oe,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},directives:function(){return[te]},encapsulation:2});const $i={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function mr(e,t,r){var n;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?Object.assign({},$i):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(t.matcher||bs)(r,e,t);if(!a)return Object.assign({},$i);const o={};gt(a.posParams,(c,u)=>{o[u]=c.path});const s=a.consumed.length>0?Object.assign(Object.assign({},o),a.consumed[a.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:s,positionalParamSegments:null!==(n=a.posParams)&&void 0!==n?n:{}}}function yr(e,t,r,n,i="corrected"){if(r.length>0&&function(e,t,r){return r.some(n=>_r(e,t,n)&&Pt(n)!==X)}(e,r,n)){const o=new J(t,function(e,t,r,n){const i={};i[X]=n,n._sourceSegment=e,n._segmentIndexShift=t.length;for(const a of r)if(""===a.path&&Pt(a)!==X){const o=new J([],{});o._sourceSegment=e,o._segmentIndexShift=t.length,i[Pt(a)]=o}return i}(e,t,n,new J(r,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===r.length&&function(e,t,r){return r.some(n=>_r(e,t,n))}(e,r,n)){const o=new J(e.segments,function(e,t,r,n,i,a){const o={};for(const s of n)if(_r(e,r,s)&&!i[Pt(s)]){const c=new J([],{});c._sourceSegment=e,c._segmentIndexShift="legacy"===a?e.segments.length:t.length,o[Pt(s)]=c}return Object.assign(Object.assign({},i),o)}(e,t,r,n,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:r}}const a=new J(e.segments,e.children);return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:r}}function _r(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}function zi(e,t,r,n){return!!(Pt(e)===n||n!==X&&_r(t,r,e))&&("**"===e.path||mr(t,e,r).matched)}function Wi(e,t,r){return 0===t.length&&!e.children[r]}class We{constructor(t){this.segmentGroup=t||null}}class Gi{constructor(t){this.urlTree=t}}function br(e){return new be.y(t=>t.error(new We(e)))}function qi(e){return new be.y(t=>t.error(new Gi(e)))}function lu(e){return new be.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class du{constructor(t,r,n,i,a){this.configLoader=r,this.urlSerializer=n,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(h.h0i)}apply(){const t=yr(this.urlTree.root,[],[],this.config).segmentGroup,r=new J(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,r,X).pipe((0,ht.U)(a=>this.createUrlTree(hn(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,le.K)(a=>{if(a instanceof Gi)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof We?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,X).pipe((0,ht.U)(i=>this.createUrlTree(hn(i),t.queryParams,t.fragment))).pipe((0,le.K)(i=>{throw i instanceof We?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,r,n){const i=t.segments.length>0?new J([],{[X]:t}):t;return new fe(i,r,n)}expandSegmentGroup(t,r,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,r,n).pipe((0,ht.U)(a=>new J([],a))):this.expandSegment(t,n,r,n.segments,i,!0)}expandChildren(t,r,n){const i=[];for(const a of Object.keys(n.children))"primary"===a?i.unshift(a):i.push(a);return(0,xt.D)(i).pipe((0,Me.b)(a=>{const o=n.children[a],s=Bi(r,a);return this.expandSegmentGroup(t,s,o,a).pipe((0,ht.U)(c=>({segment:c,outlet:a})))}),ci((a,o)=>(a[o.outlet]=o.segment,a),{}),function(e,t){const r=arguments.length>=2;return n=>n.pipe(e?(0,ce.h)((i,a)=>e(i,a,n)):is.y,Jr(1),r?(0,ns.d)(t):(0,rs.T)(()=>new ai.K))}())}expandSegment(t,r,n,i,a,o){return(0,xt.D)(n).pipe((0,Me.b)(s=>this.expandSegmentAgainstRoute(t,r,n,s,i,a,o).pipe((0,le.K)(u=>{if(u instanceof We)return(0,Y.of)(null);throw u}))),(0,Se.P)(s=>!!s),(0,le.K)((s,c)=>{if(s instanceof ai.K||"EmptyError"===s.name){if(Wi(r,i,a))return(0,Y.of)(new J([],{}));throw new We(r)}throw s}))}expandSegmentAgainstRoute(t,r,n,i,a,o,s){return zi(i,r,a,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,a,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,a,o):br(r):br(r)}expandSegmentAgainstRouteUsingRedirect(t,r,n,i,a,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,r,n,i,a,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,n,i){const a=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?qi(a):this.lineralizeSegments(n,a).pipe((0,Tt.zg)(o=>{const s=new J(o,{});return this.expandSegment(t,s,r,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,r,n,i,a,o){const{matched:s,consumedSegments:c,lastChild:u,positionalParamSegments:l}=mr(r,i,a);if(!s)return br(r);const b=this.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?qi(b):this.lineralizeSegments(i,b).pipe((0,Tt.zg)(v=>this.expandSegment(t,r,n,v.concat(a.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,r,n,i,a){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,Y.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,ht.U)(v=>(n._loadedConfig=v,new J(i,{})))):(0,Y.of)(new J(i,{}));const{matched:o,consumedSegments:s,lastChild:c}=mr(r,n,i);if(!o)return br(r);const u=i.slice(c);return this.getChildConfig(t,n,i).pipe((0,Tt.zg)(b=>{const v=b.module,O=b.routes,{segmentGroup:z,slicedSegments:Q}=yr(r,s,u,O),vt=new J(z.segments,z.children);if(0===Q.length&&vt.hasChildren())return this.expandChildren(v,O,vt).pipe((0,ht.U)(hl=>new J(s,hl)));if(0===O.length&&0===Q.length)return(0,Y.of)(new J(s,{}));const Lt=Pt(n)===a;return this.expandSegment(v,vt,O,Q,Lt?X:a,!0).pipe((0,ht.U)(Ke=>new J(s.concat(Ke.segments),Ke.children)))}))}getChildConfig(t,r,n){return r.children?(0,Y.of)(new ln(r.children,t)):r.loadChildren?void 0!==r._loadedConfig?(0,Y.of)(r._loadedConfig):this.runCanLoadGuards(t.injector,r,n).pipe((0,Tt.zg)(i=>i?this.configLoader.load(t.injector,r).pipe((0,ht.U)(a=>(r._loadedConfig=a,a))):function(e){return new be.y(t=>t.error(Zr(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(r))):(0,Y.of)(new ln([],t))}runCanLoadGuards(t,r,n){const i=r.canLoad;if(!i||0===i.length)return(0,Y.of)(!0);const a=i.map(o=>{const s=t.get(o);let c;if(function(e){return e&&Qt(e.canLoad)}(s))c=s.canLoad(r,n);else{if(!Qt(s))throw new Error("Invalid CanLoad guard");c=s(r,n)}return Nt(c)});return(0,Y.of)(a).pipe(ze(),(0,St.b)(o=>{if(!de(o))return;const s=Zr(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw s.url=o,s}),(0,ht.U)(o=>!0===o))}lineralizeSegments(t,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return(0,Y.of)(n);if(i.numberOfChildren>1||!i.children[X])return lu(t.redirectTo);i=i.children[X]}}applyRedirectCommands(t,r,n){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),t,n)}applyRedirectCreatreUrlTree(t,r,n,i){const a=this.createSegmentGroup(t,r.root,n,i);return new fe(a,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){const n={};return gt(t,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const s=i.substring(1);n[a]=r[s]}else n[a]=i}),n}createSegmentGroup(t,r,n,i){const a=this.createSegments(t,r.segments,n,i);let o={};return gt(r.children,(s,c)=>{o[c]=this.createSegmentGroup(t,s,n,i)}),new J(a,o)}createSegments(t,r,n,i){return r.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,i):this.findOrReturn(a,n))}findPosParam(t,r,n){const i=n[r.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${r.path}'.`);return i}findOrReturn(t,r){let n=0;for(const i of r){if(i.path===t.path)return r.splice(n),i;n++}return t}}function hn(e){const t={};for(const n of Object.keys(e.children)){const a=hn(e.children[n]);(a.segments.length>0||a.hasChildren())&&(t[n]=a)}return function(e){if(1===e.numberOfChildren&&e.children[X]){const t=e.children[X];return new J(e.segments.concat(t.segments),t.children)}return e}(new J(e.segments,t))}function gu(e,t,r,n){return(0,ue.w)(i=>function(e,t,r,n,i){return new du(e,t,r,n,i).apply()}(e,t,r,i.extractedUrl,n).pipe((0,ht.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}class Yi{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Sr{constructor(t,r){this.component=t,this.route=r}}function vu(e,t,r){const n=e._root;return Ge(n,t?t._root:null,r,[n.value])}function wr(e,t,r){const n=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(t);return(n?n.module.injector:r).get(e)}function Ge(e,t,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=He(t);return e.children.forEach(o=>{(function(e,t,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=e.value,o=t?t.value:null,s=r?r.getContext(e.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){const c=function(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!he(e.url,t.url);case"pathParamsOrQueryParamsChange":return!he(e.url,t.url)||!Mt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!on(e,t)||!Mt(e.queryParams,t.queryParams);case"paramsChange":default:return!on(e,t)}}(o,a,a.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Yi(n)):(a.data=o.data,a._resolvedData=o._resolvedData),a.component?Ge(e,t,s?s.children:null,n,i):Ge(e,t,r,n,i),c&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new Sr(s.outlet.component,o))}else o&&qe(t,s,i),i.canActivateChecks.push(new Yi(n)),a.component?Ge(e,null,s?s.children:null,n,i):Ge(e,null,r,n,i)})(o,a[o.value.outlet],r,n.concat([o.value]),i),delete a[o.value.outlet]}),gt(a,(o,s)=>qe(o,r.getContext(s),i)),i}function qe(e,t,r){const n=He(e),i=e.value;gt(n,(a,o)=>{i.component?qe(a,t?t.children.getContext(o):null,r):qe(a,t,r)}),i.component&&t&&t.outlet&&t.outlet.isActivated?r.canDeactivateChecks.push(new Sr(t.outlet.component,i)):r.canDeactivateChecks.push(new Sr(null,i))}function Su(e,t){return(0,Tt.zg)(r=>{const{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:o}}=r;return 0===o.length&&0===a.length?(0,Y.of)(Object.assign(Object.assign({},r),{guardsResult:!0})):function(e,t,r,n){return(0,xt.D)(e).pipe((0,Tt.zg)(i=>function(e,t,r,n,i){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,Y.of)(!0);const o=a.map(s=>{const c=wr(s,t,i);let u;if(function(e){return e&&Qt(e.canDeactivate)}(c))u=Nt(c.canDeactivate(e,t,r,n));else{if(!Qt(c))throw new Error("Invalid CanDeactivate guard");u=Nt(c(e,t,r,n))}return u.pipe((0,Se.P)())});return(0,Y.of)(o).pipe(ze())}(i.component,i.route,r,t,n)),(0,Se.P)(i=>!0!==i,!0))}(o,n,i,e).pipe((0,Tt.zg)(s=>s&&function(e){return"boolean"==typeof e}(s)?function(e,t,r,n){return(0,xt.D)(t).pipe((0,Me.b)(i=>(0,Vo.z)(function(e,t){return null!==e&&t&&t(new ps(e)),(0,Y.of)(!0)}(i.route.parent,n),function(e,t){return null!==e&&t&&t(new vs(e)),(0,Y.of)(!0)}(i.route,n),function(e,t,r){const n=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(o=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(o)).filter(o=>null!==o).map(o=>oi(()=>{const s=o.guards.map(c=>{const u=wr(c,o.node,r);let l;if(function(e){return e&&Qt(e.canActivateChild)}(u))l=Nt(u.canActivateChild(n,e));else{if(!Qt(u))throw new Error("Invalid CanActivateChild guard");l=Nt(u(n,e))}return l.pipe((0,Se.P)())});return(0,Y.of)(s).pipe(ze())}));return(0,Y.of)(a).pipe(ze())}(e,i.path,r),function(e,t,r){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return(0,Y.of)(!0);const i=n.map(a=>oi(()=>{const o=wr(a,t,r);let s;if(function(e){return e&&Qt(e.canActivate)}(o))s=Nt(o.canActivate(t,e));else{if(!Qt(o))throw new Error("Invalid CanActivate guard");s=Nt(o(t,e))}return s.pipe((0,Se.P)())}));return(0,Y.of)(i).pipe(ze())}(e,i.route,r))),(0,Se.P)(i=>!0!==i,!0))}(n,a,e,t):(0,Y.of)(s)),(0,ht.U)(s=>Object.assign(Object.assign({},r),{guardsResult:s})))})}class Cu{}function Vi(e){return new be.y(t=>t.error(e))}class ku{constructor(t,r,n,i,a,o){this.rootComponentType=t,this.config=r,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=o}recognize(){const t=yr(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,t,X);if(null===r)return null;const n=new dr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},X,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new zt(n,r),a=new ki(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(t){const r=t.value,n=Pi(r,this.paramsInheritanceStrategy);r.params=Object.freeze(n.params),r.data=Object.freeze(n.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,r,n){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,r):this.processSegment(t,r,r.segments,n)}processChildren(t,r){const n=[];for(const a of Object.keys(r.children)){const o=r.children[a],s=Bi(t,a),c=this.processSegmentGroup(s,o,a);if(null===c)return null;n.push(...c)}const i=Ki(n);return function(e){e.sort((t,r)=>t.value.outlet===X?-1:r.value.outlet===X?1:t.value.outlet.localeCompare(r.value.outlet))}(i),i}processSegment(t,r,n,i){for(const a of t){const o=this.processSegmentAgainstRoute(a,r,n,i);if(null!==o)return o}return Wi(r,n,i)?[]:null}processSegmentAgainstRoute(t,r,n,i){if(t.redirectTo||!zi(t,r,n,i))return null;let a,o=[],s=[];if("**"===t.path){const O=n.length>0?mi(n).parameters:{};a=new dr(n,O,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qi(t),Pt(t),t.component,t,Xi(r),Ji(r)+n.length,Zi(t))}else{const O=mr(r,t,n);if(!O.matched)return null;o=O.consumedSegments,s=n.slice(O.lastChild),a=new dr(o,O.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qi(t),Pt(t),t.component,t,Xi(r),Ji(r)+o.length,Zi(t))}const c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:l}=yr(r,o,s,c.filter(O=>void 0===O.redirectTo),this.relativeLinkResolution);if(0===l.length&&u.hasChildren()){const O=this.processChildren(c,u);return null===O?null:[new zt(a,O)]}if(0===c.length&&0===l.length)return[new zt(a,[])];const b=Pt(t)===i,v=this.processSegment(c,u,l,b?X:i);return null===v?null:[new zt(a,v)]}}function ju(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Ki(e){const t=[],r=new Set;for(const n of e){if(!ju(n)){t.push(n);continue}const i=t.find(a=>n.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...n.children),r.add(i)):t.push(n)}for(const n of r){const i=Ki(n.children);t.push(new zt(n.value,i))}return t.filter(n=>!r.has(n))}function Xi(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Ji(e){let t=e,r=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,r+=t._segmentIndexShift?t._segmentIndexShift:0;return r-1}function Qi(e){return e.data||{}}function Zi(e){return e.resolve||{}}function Lu(e,t,r,n,i){return(0,Tt.zg)(a=>function(e,t,r,n,i="emptyOnly",a="legacy"){try{const o=new ku(e,t,r,n,i,a).recognize();return null===o?Vi(new Cu):(0,Y.of)(o)}catch(o){return Vi(o)}}(e,t,a.urlAfterRedirects,r(a.urlAfterRedirects),n,i).pipe((0,ht.U)(o=>Object.assign(Object.assign({},a),{targetSnapshot:o}))))}function Du(e,t){return(0,Tt.zg)(r=>{const{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return(0,Y.of)(r);let a=0;return(0,xt.D)(i).pipe((0,Me.b)(o=>function(e,t,r,n){return function(e,t,r,n){const i=Object.keys(e);if(0===i.length)return(0,Y.of)({});const a={};return(0,xt.D)(i).pipe((0,Tt.zg)(o=>function(e,t,r,n){const i=wr(e,t,n);return i.resolve?Nt(i.resolve(t,r)):Nt(i(t,r))}(e[o],t,r,n).pipe((0,St.b)(s=>{a[o]=s}))),Jr(1),(0,Tt.zg)(()=>Object.keys(a).length===i.length?(0,Y.of)(a):se.E))}(e._resolve,e,t,n).pipe((0,ht.U)(a=>(e._resolvedData=a,e.data=Object.assign(Object.assign({},e.data),Pi(e,r).resolve),null)))}(o.route,n,e,t)),(0,St.b)(()=>a++),Jr(1),(0,Tt.zg)(o=>a===i.length?(0,Y.of)(r):se.E))})}function dn(e){return(0,ue.w)(t=>{const r=e(t);return r?(0,xt.D)(r).pipe((0,ht.U)(()=>t)):(0,Y.of)(t)})}class $u extends class{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}}{}const pn=new h.OlP("ROUTES");class ta{constructor(t,r,n,i){this.loader=t,this.compiler=r,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactory(r.loadChildren).pipe((0,ht.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);const o=a.create(t);return new ln(vi(o.injector.get(pn,void 0,h.XFs.Self|h.XFs.Optional)).map(fn),o)}),(0,le.K)(a=>{throw r._loader$=void 0,a}));return r._loader$=new Ko.c(i,()=>new De.xQ).pipe((0,os.x)()),r._loader$}loadModuleFactory(t){return"string"==typeof t?(0,xt.D)(this.loader.load(t)):Nt(t()).pipe((0,Tt.zg)(r=>r instanceof h.YKP?(0,Y.of)(r):(0,xt.D)(this.compiler.compileModuleAsync(r))))}}class zu{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Zt,this.attachRef=null}}class Zt{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const n=this.getOrCreateContext(t);n.outlet=r,this.contexts.set(t,n)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new zu,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}class Gu{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}function qu(e){throw e}function Yu(e,t,r){return t.parse("/")}function ea(e,t){return(0,Y.of)(null)}const Vu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ku={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};class ct{constructor(t,r,n,i,a,o,s,c){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new De.xQ,this.errorHandler=qu,this.malformedUriErrorHandler=Yu,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ea,afterPreactivation:ea},this.urlHandlingStrategy=new Gu,this.routeReuseStrategy=new $u,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace";this.ngModule=a.get(h.h0i),this.console=a.get(h.c2e);const b=a.get(h.R0b);this.isNgZoneEnabled=b instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new fe(new J([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ta(o,s,v=>this.triggerEvent(new fi(v)),v=>this.triggerEvent(new hi(v))),this.routerState=Ci(this.currentUrlTree,this.rootComponentType),this.transitions=new At.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe((0,ce.h)(n=>0!==n.id),(0,ht.U)(n=>Object.assign(Object.assign({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl)})),(0,ue.w)(n=>{let i=!1,a=!1;return(0,Y.of)(n).pipe((0,St.b)(o=>{this.currentNavigation={id:o.id,initialUrl:o.currentRawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,ue.w)(o=>{const s=this.browserUrlTree.toString(),c=!this.navigated||o.extractedUrl.toString()!==s||s!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Er(o.source)&&(this.browserUrlTree=o.extractedUrl),(0,Y.of)(o).pipe((0,ue.w)(l=>{const b=this.transitions.getValue();return r.next(new or(l.id,this.serializeUrl(l.extractedUrl),l.source,l.restoredState)),b!==this.transitions.getValue()?se.E:Promise.resolve(l)}),gu(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,St.b)(l=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:l.urlAfterRedirects})}),Lu(this.rootComponentType,this.config,l=>this.serializeUrl(l),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,St.b)(l=>{"eager"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(l.urlAfterRedirects,l),this.browserUrlTree=l.urlAfterRedirects);const b=new cs(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);r.next(b)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:b,extractedUrl:v,source:O,restoredState:z,extras:Q}=o,vt=new or(b,this.serializeUrl(v),O,z);r.next(vt);const Lt=Ci(v,this.rootComponentType).snapshot;return(0,Y.of)(Object.assign(Object.assign({},o),{targetSnapshot:Lt,urlAfterRedirects:v,extras:Object.assign(Object.assign({},Q),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=o.rawUrl,this.browserUrlTree=o.urlAfterRedirects,o.resolve(null),se.E}),dn(o=>{const{targetSnapshot:s,id:c,extractedUrl:u,rawUrl:l,extras:{skipLocationChange:b,replaceUrl:v}}=o;return this.hooks.beforePreactivation(s,{navigationId:c,appliedUrlTree:u,rawUrlTree:l,skipLocationChange:!!b,replaceUrl:!!v})}),(0,St.b)(o=>{const s=new ls(o.id,this.serializeUrl(o.extractedUrl),this.serializeUrl(o.urlAfterRedirects),o.targetSnapshot);this.triggerEvent(s)}),(0,ht.U)(o=>Object.assign(Object.assign({},o),{guards:vu(o.targetSnapshot,o.currentSnapshot,this.rootContexts)})),Su(this.ngModule.injector,o=>this.triggerEvent(o)),(0,St.b)(o=>{if(de(o.guardsResult)){const c=Zr(`Redirecting to "${this.serializeUrl(o.guardsResult)}"`);throw c.url=o.guardsResult,c}const s=new fs(o.id,this.serializeUrl(o.extractedUrl),this.serializeUrl(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.triggerEvent(s)}),(0,ce.h)(o=>!!o.guardsResult||(this.restoreHistory(o),this.cancelNavigationTransition(o,""),!1)),dn(o=>{if(o.guards.canActivateChecks.length)return(0,Y.of)(o).pipe((0,St.b)(s=>{const c=new hs(s.id,this.serializeUrl(s.extractedUrl),this.serializeUrl(s.urlAfterRedirects),s.targetSnapshot);this.triggerEvent(c)}),(0,ue.w)(s=>{let c=!1;return(0,Y.of)(s).pipe(Du(this.paramsInheritanceStrategy,this.ngModule.injector),(0,St.b)({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(s),this.cancelNavigationTransition(s,"At least one route resolver didn't emit any value."))}}))}),(0,St.b)(s=>{const c=new ds(s.id,this.serializeUrl(s.extractedUrl),this.serializeUrl(s.urlAfterRedirects),s.targetSnapshot);this.triggerEvent(c)}))}),dn(o=>{const{targetSnapshot:s,id:c,extractedUrl:u,rawUrl:l,extras:{skipLocationChange:b,replaceUrl:v}}=o;return this.hooks.afterPreactivation(s,{navigationId:c,appliedUrlTree:u,rawUrlTree:l,skipLocationChange:!!b,replaceUrl:!!v})}),(0,ht.U)(o=>{const s=function(e,t,r){const n=pr(e,t._root,r?r._root:void 0);return new xi(n,t)}(this.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return Object.assign(Object.assign({},o),{targetRouterState:s})}),(0,St.b)(o=>{this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects)}),((e,t,r)=>(0,ht.U)(n=>(new Js(t,n.targetRouterState,n.currentRouterState,r).activate(e),n)))(this.rootContexts,this.routeReuseStrategy,o=>this.triggerEvent(o)),(0,St.b)({next(){i=!0},complete(){i=!0}}),(0,ss.x)(()=>{var o;if(!i&&!a){const s=`Navigation ID ${n.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(n),this.cancelNavigationTransition(n,s)):this.cancelNavigationTransition(n,s)}(null===(o=this.currentNavigation)||void 0===o?void 0:o.id)===n.id&&(this.currentNavigation=null)}),(0,le.K)(o=>{if(a=!0,function(e){return e&&e[pi]}(o)){const s=de(o.url);s||(this.navigated=!0,this.restoreHistory(n,!0));const c=new li(n.id,this.serializeUrl(n.extractedUrl),o.message);r.next(c),s?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(o.url,this.rawUrlTree),l={skipLocationChange:n.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Er(n.source)};this.scheduleNavigation(u,"imperative",null,l,{resolve:n.resolve,reject:n.reject,promise:n.promise})},0):n.resolve(!1)}else{this.restoreHistory(n,!0);const s=new us(n.id,this.serializeUrl(n.extractedUrl),o);r.next(s);try{n.resolve(this.errorHandler(o))}catch(c){n.reject(c)}}return se.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:n,state:i,urlTree:a}=r,o={replaceUrl:!0};if(i){const s=Object.assign({},i);delete s.navigationId,delete s.\u0275routerPageId,0!==Object.keys(s).length&&(o.state=s)}this.scheduleNavigation(a,n,i,o)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const n=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!n||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Hi(t),this.config=t.map(fn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:n,queryParams:i,fragment:a,queryParamsHandling:o,preserveFragment:s}=r,c=n||this.routerState.root,u=s?this.currentUrlTree.fragment:a;let l=null;switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}return null!==l&&(l=this.removeEmptyProps(l)),zs(c,this.currentUrlTree,t,l,null!=u?u:null)}navigateByUrl(t,r={skipLocationChange:!1}){const n=de(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const r=e[t];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${t}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(n){r=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return r}isActive(t,r){let n;if(n=!0===r?Object.assign({},Vu):!1===r?Object.assign({},Ku):r,de(t))return _i(this.currentUrlTree,t,n);const i=this.parseUrl(t);return _i(this.currentUrlTree,i,n)}removeEmptyProps(t){return Object.keys(t).reduce((r,n)=>{const i=t[n];return null!=i&&(r[n]=i),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new we(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,n,i,a){var o,s;if(this.disposed)return Promise.resolve(!1);const c=this.getTransition(),u=Er(r)&&c&&!Er(c.source),v=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===t.toString();if(u&&v)return Promise.resolve(!0);let O,z,Q;a?(O=a.resolve,z=a.reject,Q=a.promise):Q=new Promise((Yt,Ke)=>{O=Yt,z=Ke});const vt=++this.navigationId;let Lt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),Lt=n&&n.\u0275routerPageId?n.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?null!==(o=this.browserPageId)&&void 0!==o?o:0:(null!==(s=this.browserPageId)&&void 0!==s?s:0)+1):Lt=0,this.setTransition({id:vt,targetPageId:Lt,source:r,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:O,reject:z,promise:Q,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Q.catch(Yt=>Promise.reject(Yt))}setBrowserUrl(t,r){const n=this.urlSerializer.serialize(t),i=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(n)||r.extras.replaceUrl?this.location.replaceState(n,"",i):this.location.go(n,"",i)}restoreHistory(t,r=!1){var n,i;if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===a?this.currentUrlTree===(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const n=new li(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}function Er(e){return"imperative"!==e}ct.\u0275fac=function(t){return new(t||ct)(h.LFG(h.DyG),h.LFG(ur),h.LFG(Zt),h.LFG(bt.Ye),h.LFG(h.zs3),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(void 0))},ct.\u0275prov=h.Yz7({token:ct,factory:ct.\u0275fac}),ct.ctorParameters=()=>[{type:h.DyG},{type:ur},{type:Zt},{type:bt.Ye},{type:h.zs3},{type:h.v3s},{type:h.Sil},{type:void 0}];class Ut{constructor(t,r,n,i,a){this.router=t,this.route=r,this.commands=[],this.onChanges=new De.xQ,null==n&&i.setAttribute(a.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Te(this.skipLocationChange),replaceUrl:Te(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Te(this.preserveFragment)})}}Ut.\u0275fac=function(t){return new(t||Ut)(h.Y36(ct),h.Y36(Jt),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},Ut.\u0275dir=h.lG2({type:Ut,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[h.TTD]}),Ut.ctorParameters=()=>[{type:ct},{type:Jt},{type:String,decorators:[{type:h.ahi,args:["tabindex"]}]},{type:h.Qsj},{type:h.SBq}],Ut.propDecorators={queryParams:[{type:h.IIB}],fragment:[{type:h.IIB}],queryParamsHandling:[{type:h.IIB}],preserveFragment:[{type:h.IIB}],skipLocationChange:[{type:h.IIB}],replaceUrl:[{type:h.IIB}],state:[{type:h.IIB}],relativeTo:[{type:h.IIB}],routerLink:[{type:h.IIB}],onClick:[{type:h.L6J,args:["click"]}]};class jt{constructor(t,r,n){this.router=t,this.route=r,this.locationStrategy=n,this.commands=[],this.onChanges=new De.xQ,this.subscription=t.events.subscribe(i=>{i instanceof we&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,n,i,a){if(0!==t||r||n||i||a||"string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Te(this.skipLocationChange),replaceUrl:Te(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Te(this.preserveFragment)})}}function Te(e){return""===e||!!e}jt.\u0275fac=function(t){return new(t||jt)(h.Y36(ct),h.Y36(Jt),h.Y36(bt.S$))},jt.\u0275dir=h.lG2({type:jt,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&h.NdJ("click",function(i){return r.onClick(i.button,i.ctrlKey,i.shiftKey,i.altKey,i.metaKey)}),2&t&&(h.Ikx("href",r.href,h.LSH),h.uIk("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[h.TTD]}),jt.ctorParameters=()=>[{type:ct},{type:Jt},{type:bt.S$}],jt.propDecorators={target:[{type:h.pfw,args:["attr.target"]},{type:h.IIB}],queryParams:[{type:h.IIB}],fragment:[{type:h.IIB}],queryParamsHandling:[{type:h.IIB}],preserveFragment:[{type:h.IIB}],skipLocationChange:[{type:h.IIB}],replaceUrl:[{type:h.IIB}],state:[{type:h.IIB}],relativeTo:[{type:h.IIB}],href:[{type:h.pfw}],routerLink:[{type:h.IIB}],onClick:[{type:h.L6J,args:["click",["$event.button","$event.ctrlKey","$event.shiftKey","$event.altKey","$event.metaKey"]]}]};class pe{constructor(t,r,n,i,a,o){this.router=t,this.element=r,this.renderer=n,this.cdr=i,this.link=a,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(s=>{s instanceof we&&this.update()})}ngAfterContentInit(){(0,Y.of)(this.links.changes,this.linksWithHrefs.changes,(0,Y.of)(null)).pipe((0,Qr.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=(0,xt.D)(r).pipe((0,Qr.J)()).subscribe(n=>{this.isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(n=>!!n)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}))})}isLinkActive(t){const r=function(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>t.isActive(n.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}pe.\u0275fac=function(t){return new(t||pe)(h.Y36(ct),h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO),h.Y36(Ut,8),h.Y36(jt,8))},pe.\u0275dir=h.lG2({type:pe,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,n){if(1&t&&(h.Suo(n,Ut,5),h.Suo(n,jt,5)),2&t){let i;h.iGM(i=h.CRH())&&(r.links=i),h.iGM(i=h.CRH())&&(r.linksWithHrefs=i)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[h.TTD]}),pe.ctorParameters=()=>[{type:ct},{type:h.SBq},{type:h.Qsj},{type:h.sBO},{type:Ut,decorators:[{type:h.FiY}]},{type:jt,decorators:[{type:h.FiY}]}],pe.propDecorators={links:[{type:h.AcB,args:[Ut,{descendants:!0}]}],linksWithHrefs:[{type:h.AcB,args:[jt,{descendants:!0}]}],routerLinkActiveOptions:[{type:h.IIB}],routerLinkActive:[{type:h.IIB}]};class te{constructor(t,r,n,i,a){this.parentContexts=t,this.location=r,this.resolver=n,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.name=i||X,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const i=t._futureSnapshot.routeConfig.component,a=(r=r||this.resolver).resolveComponentFactory(i),o=this.parentContexts.getOrCreateContext(this.name).children,s=new Qu(t,o,this.location.injector);this.activated=this.location.createComponent(a,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}te.\u0275fac=function(t){return new(t||te)(h.Y36(Zt),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},te.\u0275dir=h.lG2({type:te,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),te.ctorParameters=()=>[{type:Zt},{type:h.s_b},{type:h._Vd},{type:String,decorators:[{type:h.ahi,args:["name"]}]},{type:h.sBO}],te.propDecorators={activateEvents:[{type:h.r_U,args:["activate"]}],deactivateEvents:[{type:h.r_U,args:["deactivate"]}]};class Qu{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===Jt?this.route:t===Zt?this.childContexts:this.parent.get(t,r)}}class gn{}class ra{preload(t,r){return(0,Y.of)(null)}}class ee{constructor(t,r,n,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a;this.loader=new ta(r,n,c=>t.triggerEvent(new fi(c)),c=>t.triggerEvent(new hi(c)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ce.h)(t=>t instanceof we),(0,Me.b)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const n=[];for(const i of r)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const a=i._loadedConfig;n.push(this.processRoutes(a.module,a.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return(0,xt.D)(n).pipe((0,Qr.J)(),(0,ht.U)(i=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Y.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Tt.zg)(i=>(r._loadedConfig=i,this.processRoutes(i.module,i.routes)))))}}ee.\u0275fac=function(t){return new(t||ee)(h.LFG(ct),h.LFG(h.v3s),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(gn))},ee.\u0275prov=h.Yz7({token:ee,factory:ee.\u0275fac}),ee.ctorParameters=()=>[{type:ct},{type:h.v3s},{type:h.Sil},{type:h.zs3},{type:gn}];class Wt{constructor(t,r,n={}){this.router=t,this.viewportScroller=r,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof or?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof we&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof di&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new di(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}Wt.\u0275fac=function(t){return new(t||Wt)(h.LFG(ct),h.LFG(bt.EM),h.LFG(void 0))},Wt.\u0275prov=h.Yz7({token:Wt,factory:Wt.\u0275fac}),Wt.ctorParameters=()=>[{type:ct},{type:bt.EM},{type:void 0}];const ge=new h.OlP("ROUTER_CONFIGURATION"),vn=new h.OlP("ROUTER_FORROOT_GUARD"),ec=[bt.Ye,{provide:ur,useClass:Ei},{provide:ct,useFactory:function(e,t,r,n,i,a,o,s={},c,u){const l=new ct(null,e,t,r,n,i,a,vi(o));return c&&(l.urlHandlingStrategy=c),u&&(l.routeReuseStrategy=u),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(s,l),s.enableTracing&&l.events.subscribe(b=>{var v,O;null===(v=console.group)||void 0===v||v.call(console,`Router Event: ${b.constructor.name}`),console.log(b.toString()),console.log(b),null===(O=console.groupEnd)||void 0===O||O.call(console)}),l},deps:[ur,Zt,bt.Ye,h.zs3,h.v3s,h.Sil,pn,ge,[class{},new h.FiY],[class{},new h.FiY]]},Zt,{provide:Jt,useFactory:function(e){return e.routerState.root},deps:[ct]},{provide:h.v3s,useClass:h.EAV},ee,ra,class{preload(t,r){return r().pipe((0,le.K)(()=>(0,Y.of)(null)))}},{provide:ge,useValue:{enableTracing:!1}}];function rc(){return new h.PXZ("Router",ct)}class Gt{constructor(t,r){}static forRoot(t,r){return{ngModule:Gt,providers:[ec,na(t),{provide:vn,useFactory:ac,deps:[[ct,new h.FiY,new h.tp0]]},{provide:ge,useValue:r||{}},{provide:bt.S$,useFactory:ic,deps:[bt.lw,[new h.tBr(bt.mr),new h.FiY],ge]},{provide:Wt,useFactory:nc,deps:[ct,bt.EM,ge]},{provide:gn,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:ra},{provide:h.PXZ,multi:!0,useFactory:rc},[qt,{provide:h.ip1,multi:!0,useFactory:cc,deps:[qt]},{provide:ia,useFactory:lc,deps:[qt]},{provide:h.tb,multi:!0,useExisting:ia}]]}}static forChild(t){return{ngModule:Gt,providers:[na(t)]}}}function nc(e,t,r){return r.scrollOffset&&t.setOffset(r.scrollOffset),new Wt(e,t,r)}function ic(e,t,r={}){return r.useHash?new bt.Do(e,t):new bt.b0(e,t)}function ac(e){return"guarded"}function na(e){return[{provide:h.deG,multi:!0,useValue:e},{provide:pn,multi:!0,useValue:e}]}Gt.\u0275fac=function(t){return new(t||Gt)(h.LFG(vn,8),h.LFG(ct,8))},Gt.\u0275mod=h.oAB({type:Gt}),Gt.\u0275inj=h.cJS({}),Gt.ctorParameters=()=>[{type:void 0,decorators:[{type:h.FiY},{type:h.tBr,args:[vn]}]},{type:ct,decorators:[{type:h.FiY}]}];class qt{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new De.xQ}appInitializer(){return this.injector.get(bt.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const n=new Promise(o=>r=o),i=this.injector.get(ct),a=this.injector.get(ge);return"disabled"===a.initialNavigation?(i.setUpLocationChangeListener(),r(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(i.hooks.afterPreactivation=()=>this.initNavigation?(0,Y.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),i.initialNavigation()):r(!0),n})}bootstrapListener(t){const r=this.injector.get(ge),n=this.injector.get(ee),i=this.injector.get(Wt),a=this.injector.get(ct),o=this.injector.get(h.z2F);t===o.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&a.initialNavigation(),n.setUpPreloading(),i.init(),a.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}function cc(e){return e.appInitializer.bind(e)}function lc(e){return e.bootstrapListener.bind(e)}qt.\u0275fac=function(t){return new(t||qt)(h.LFG(h.zs3))},qt.\u0275prov=h.Yz7({token:qt,factory:qt.\u0275fac}),qt.ctorParameters=()=>[{type:h.zs3}];const ia=new h.OlP("Router Initializer");new h.GfV("12.2.14");var aa,oa,sa;function hc(e,t,r){void 0===t&&(t=!0),void 0===r&&(r=!0),aa=!0,oa=e,sa=r,t&&e({name:window.location.pathname,op:"pageload"})}function Ye(){var e=ot();if(e){var t=e.getScope();if(t)return t.getTransaction()}}var dc=function(){function e(t){var r=this;this._router=t,this.navStart$=this._router.events.pipe((0,ce.h)(function(n){return n instanceof or}),(0,St.b)(function(n){if(aa){var i=n,a=(0,N.rt)(i.url),o=Ye();!o&&sa&&(o=oa({name:a,op:"navigation"})),o&&(r._routingSpan=o.startChild({description:""+i.url,op:"angular.routing",tags:_e({"routing.instrumentation":"@sentry/angular",url:a},i.navigationTrigger&&{navigationTrigger:i.navigationTrigger})}))}else x.k.error("Angular integration has tracing enabled, but Tracing integration is not configured")})),this.navEnd$=this._router.events.pipe((0,ce.h)(function(n){return n instanceof we}),(0,St.b)(function(){r._routingSpan&&(r._routingSpan.finish(),delete r._routingSpan)})),this.navStart$.subscribe(),this.navEnd$.subscribe()}return e=ir([(0,h.GSi)({providedIn:"root"})],e)}(),gc=function(){function e(){this.componentName="unknown"}return e.prototype.ngOnInit=function(){var t=Ye();t&&(this._tracingSpan=t.startChild({description:"<"+this.componentName+">",op:"angular.initialize"}))},e.prototype.ngAfterViewInit=function(){this._tracingSpan&&this._tracingSpan.finish()},ir([(0,h.IIB)("trace")],e.prototype,"componentName",void 0),e=ir([(0,h.Xek)({selector:"[trace]"})],e)}();function vc(){var e;return function(t){var r=t.prototype.ngOnInit;t.prototype.ngOnInit=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=Ye();if(o&&(e=o.startChild({description:"<"+t.name+">",op:"angular.initialize"})),r)return r.apply(this,i)};var n=t.prototype.ngAfterViewInit;t.prototype.ngAfterViewInit=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(e&&e.finish(),n)return n.apply(this,i)}}}function mc(){return function(e,t,r){var n=r.value;return r.value=function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=(0,Ct._I)(),s=Ye();if(s&&s.startChild({description:"<"+e.constructor.name+">",endTimestamp:o,op:"angular."+String(t),startTimestamp:o}),n)return n.apply(this,i)},r}}var Re,Rt,q=S(94585);!function(e){e.Explicit="explicitly_set",e.Sampler="client_sampler",e.Rate="client_rate",e.Inheritance="inheritance"}(Re||(Re={})),function(e){e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss"}(Rt||(Rt={})),function(e){e.fromHttpCode=function(r){if(r<400)return e.Ok;if(r>=400&&r<500)switch(r){case 401:return e.Unauthenticated;case 403:return e.PermissionDenied;case 404:return e.NotFound;case 409:return e.AlreadyExists;case 413:return e.FailedPrecondition;case 429:return e.ResourceExhausted;default:return e.InvalidArgument}if(r>=500&&r<600)switch(r){case 501:return e.Unimplemented;case 503:return e.Unavailable;case 504:return e.DeadlineExceeded;default:return e.InternalError}return e.UnknownError}}(Rt||(Rt={}));var yc=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function mn(e){return"tracesSampleRate"in e||"tracesSampler"in e}function Or(e){var t,r;return void 0===e&&(e=ot()),null===(r=null===(t=e)||void 0===t?void 0:t.getScope())||void 0===r?void 0:r.getTransaction()}function yt(e){return e/1e3}function ua(){var e=Or();e&&(x.k.log("[Tracing] Transaction: "+Rt.InternalError+" -> Global error occured"),e.setStatus(Rt.InternalError))}var ca=function(){function e(t){void 0===t&&(t=1e3),this.spans=[],this._maxlen=t}return e.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},e}(),la=function(e){function t(r,n){var i=e.call(this,r)||this;return i._metadata={},i._measurements={},i._hub=ot(),(0,ut.V9)(n,Ce)&&(i._hub=n),i.name=r.name||"",i._trimEnd=r.trimEnd,i.transaction=i,i}return(0,q.ZT)(t,e),t.prototype.setName=function(r){this.name=r},t.prototype.initSpanRecorder=function(r){void 0===r&&(r=1e3),this.spanRecorder||(this.spanRecorder=new ca(r)),this.spanRecorder.add(this)},t.prototype.setMeasurements=function(r){this._measurements=(0,q.pi)({},r)},t.prototype.setMetadata=function(r){this._metadata=(0,q.pi)((0,q.pi)({},this._metadata),r)},t.prototype.finish=function(r){var n=this;if(void 0===this.endTimestamp){if(this.name||(x.k.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),e.prototype.finish.call(this,r),!0!==this.sampled)return void x.k.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var i=this.spanRecorder?this.spanRecorder.spans.filter(function(s){return s!==n&&s.endTimestamp}):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce(function(s,c){return s.endTimestamp&&c.endTimestamp?s.endTimestamp>c.endTimestamp?s:c:s}).endTimestamp);var a={contexts:{trace:this.getTraceContext()},spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this._metadata};return Object.keys(this._measurements).length>0&&(x.k.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),a.measurements=this._measurements),this._hub.captureEvent(a)}},t.prototype.toContext=function(){var r=e.prototype.toContext.call(this);return(0,nt.Jr)((0,q.pi)((0,q.pi)({},r),{name:this.name,trimEnd:this._trimEnd}))},t.prototype.updateWithContext=function(r){var n;return e.prototype.updateWithContext.call(this,r),this.name=null!=(n=r.name)?n:"",this._trimEnd=r.trimEnd,this},t}(function(){function e(t){if(this.traceId=(0,N.DM)(),this.spanId=(0,N.DM)().substring(16),this.startTimestamp=(0,Ct._I)(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return e.prototype.child=function(t){return this.startChild(t)},e.prototype.startChild=function(t){var r=new e((0,q.pi)((0,q.pi)({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,r},e.prototype.setTag=function(t,r){var n;return this.tags=(0,q.pi)((0,q.pi)({},this.tags),((n={})[t]=r,n)),this},e.prototype.setData=function(t,r){var n;return this.data=(0,q.pi)((0,q.pi)({},this.data),((n={})[t]=r,n)),this},e.prototype.setStatus=function(t){return this.status=t,this},e.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var r=Rt.fromHttpCode(t);return r!==Rt.UnknownError&&this.setStatus(r),this},e.prototype.isSuccess=function(){return this.status===Rt.Ok},e.prototype.finish=function(t){this.endTimestamp="number"==typeof t?t:(0,Ct._I)()},e.prototype.toTraceparent=function(){var t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},e.prototype.toContext=function(){return(0,nt.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},e.prototype.updateWithContext=function(t){var r,n,i,a,o;return this.data=null!=(r=t.data)?r:{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=null!=(n=t.spanId)?n:this.spanId,this.startTimestamp=null!=(i=t.startTimestamp)?i:this.startTimestamp,this.status=t.status,this.tags=null!=(a=t.tags)?a:{},this.traceId=null!=(o=t.traceId)?o:this.traceId,this},e.prototype.getTraceContext=function(){return(0,nt.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},e.prototype.toJSON=function(){return(0,nt.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},e}()),Ec=function(e){function t(r,n,i,a){void 0===i&&(i="");var o=e.call(this,a)||this;return o._pushActivity=r,o._popActivity=n,o.transactionSpanId=i,o}return(0,q.ZT)(t,e),t.prototype.add=function(r){var n=this;r.spanId!==this.transactionSpanId&&(r.finish=function(i){r.endTimestamp="number"==typeof i?i:(0,Ct._I)(),n._popActivity(r.spanId)},void 0===r.endTimestamp&&this._pushActivity(r.spanId)),e.prototype.add.call(this,r)},t}(ca),Oc=function(e){function t(r,n,i,a){void 0===i&&(i=1e3),void 0===a&&(a=!1);var o=e.call(this,r,n)||this;return o._idleHub=n,o._idleTimeout=i,o._onScope=a,o.activities={},o._heartbeatTimer=0,o._heartbeatCounter=0,o._finished=!1,o._beforeFinishCallbacks=[],n&&a&&(ha(n),x.k.log("Setting idle transaction on scope. Span ID: "+o.spanId),n.configureScope(function(s){return s.setSpan(o)})),o._initTimeout=setTimeout(function(){o._finished||o.finish()},o._idleTimeout),o}return(0,q.ZT)(t,e),t.prototype.finish=function(r){var n,i,a=this;if(void 0===r&&(r=(0,Ct._I)()),this._finished=!0,this.activities={},this.spanRecorder){x.k.log("[Tracing] finishing IdleTransaction",new Date(1e3*r).toISOString(),this.op);try{for(var o=(0,q.XA)(this._beforeFinishCallbacks),s=o.next();!s.done;s=o.next()){(0,s.value)(this,r)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter(function(u){if(u.spanId===a.spanId)return!0;u.endTimestamp||(u.endTimestamp=r,u.setStatus(Rt.Cancelled),x.k.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(u,void 0,2)));var l=u.startTimestamp<r;return l||x.k.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(u,void 0,2)),l}),x.k.log("[Tracing] flushing IdleTransaction")}else x.k.log("[Tracing] No active IdleTransaction");return this._onScope&&ha(this._idleHub),e.prototype.finish.call(this,r)},t.prototype.registerBeforeFinishCallback=function(r){this._beforeFinishCallbacks.push(r)},t.prototype.initSpanRecorder=function(r){var n=this;if(!this.spanRecorder){this.spanRecorder=new Ec(function(o){n._finished||n._pushActivity(o)},function(o){n._finished||n._popActivity(o)},this.spanId,r),x.k.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},t.prototype._pushActivity=function(r){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),x.k.log("[Tracing] pushActivity: "+r),this.activities[r]=!0,x.k.log("[Tracing] new activities count",Object.keys(this.activities).length)},t.prototype._popActivity=function(r){var n=this;if(this.activities[r]&&(x.k.log("[Tracing] popActivity "+r),delete this.activities[r],x.k.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var i=this._idleTimeout,a=(0,Ct._I)()+i/1e3;setTimeout(function(){n._finished||n.finish(a)},i)}},t.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var r=Object.keys(this.activities),n=r.length?r.reduce(function(i,a){return i+a}):"";n===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=n,this._heartbeatCounter>=3?(x.k.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(Rt.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},t.prototype._pingHeartbeat=function(){var r=this;x.k.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout(function(){r._beat()},5e3)},t}(la);function ha(e){if(e){var t=e.getScope();if(t)t.getTransaction()&&t.setSpan(void 0)}}function Tc(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function da(e,t,r){return mn(t)?void 0!==e.sampled?(e.setMetadata({transactionSampling:{method:Re.Explicit}}),e):("function"==typeof t.tracesSampler?(n=t.tracesSampler(r),e.setMetadata({transactionSampling:{method:Re.Sampler,rate:Number(n)}})):void 0!==r.parentSampled?(n=r.parentSampled,e.setMetadata({transactionSampling:{method:Re.Inheritance}})):(n=t.tracesSampleRate,e.setMetadata({transactionSampling:{method:Re.Rate,rate:Number(n)}})),function(e){return isNaN(e)||"number"!=typeof e&&"boolean"!=typeof e?(x.k.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(e)+" of type "+JSON.stringify(typeof e)+"."),!1):!(e<0||e>1)||(x.k.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+e+"."),!1)}(n)?n?(e.sampled=Math.random()<n,e.sampled?(x.k.log("[Tracing] starting "+e.op+" transaction - "+e.name),e):(x.k.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(n)+")"),e)):(x.k.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(x.k.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)):(e.sampled=!1,e);var n}function Ic(e,t){var r,n,i=(null===(r=this.getClient())||void 0===r?void 0:r.getOptions())||{},a=new la(e,this);return(a=da(a,i,(0,q.pi)({parentSampled:e.parentSampled,transactionContext:e},t))).sampled&&a.initSpanRecorder(null===(n=i._experiments)||void 0===n?void 0:n.maxSpans),a}var Tr=(0,N.Rf)();var xr,Sn,yn=function(e,t,r,n){var i;return function(){r&&t.isFinal&&r.disconnect(),t.value>=0&&(n||t.isFinal||"hidden"===document.visibilityState)&&(t.delta=t.value-(i||0),(t.delta||t.isFinal||void 0===i)&&(e(t),i=t.value))}},Rr=function(e,t){return void 0===t&&(t=-1),{name:e,value:t,delta:0,entries:[],id:Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12),isFinal:!1}},_n=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver(function(n){return n.getEntries().map(t)});return r.observe({type:e,buffered:!0}),r}}catch(n){}},pa=!1,ga=!1,Uc=function(e){pa=!e.persisted},Ir=function(e,t){void 0===t&&(t=!1),ga||(addEventListener("pagehide",Uc),addEventListener("beforeunload",function(){}),ga=!0),addEventListener("visibilitychange",function(r){var n=r.timeStamp;"hidden"===document.visibilityState&&e({timeStamp:n,isUnloading:pa})},{capture:!0,once:t})},bn=function(){return void 0===xr&&(xr="hidden"===document.visibilityState?0:1/0,Ir(function(e){var t=e.timeStamp;return xr=t},!0)),{get timeStamp(){return xr}}},Nc=function(e,t){void 0===t&&(t=!1);var i,r=Rr("LCP"),n=bn(),a=function(c){var u=c.startTime;u<n.timeStamp?(r.value=u,r.entries.push(c)):r.isFinal=!0,i()},o=_n("largest-contentful-paint",a);if(o){i=yn(e,r,o,t);var s=function(){r.isFinal||(o.takeRecords().map(a),r.isFinal=!0,i())};(Sn||(Sn=new Promise(function(e){return["scroll","keydown","pointerdown"].map(function(t){addEventListener(t,e,{once:!0,passive:!0,capture:!0})})})),Sn).then(s),Ir(s,!0)}},va=(0,N.Rf)(),Bc=function(e){var t=Rr("TTFB");!function(e){"complete"===document.readyState?setTimeout(e,0):addEventListener("pageshow",e)}(function(){try{var r=va.performance.getEntriesByType("navigation")[0]||function(){var e=va.performance.timing,t={entryType:"navigation",startTime:0};for(var r in e)"navigationStart"!==r&&"toJSON"!==r&&(t[r]=Math.max(e[r]-e.navigationStart,0));return t}();t.value=t.delta=r.responseStart,t.entries=[r],e(t)}catch(n){}})},Ft=(0,N.Rf)(),$c=function(){function e(){this._measurements={},this._performanceCursor=0,Ft&&Ft.performance&&(Ft.performance.mark&&Ft.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID(),this._trackTTFB())}return e.prototype.addPerformanceEntries=function(t){var r=this;if(Ft&&Ft.performance&&Ft.performance.getEntries&&Ct.Z1){x.k.log("[Tracing] Adding & adjusting spans using Performance API");var i,o,s,n=yt(Ct.Z1);if(Ft.document)for(var a=0;a<document.scripts.length;a++)if("true"===document.scripts[a].dataset.entry){i=document.scripts[a].src;break}if(Ft.performance.getEntries().slice(this._performanceCursor).forEach(function(u){var l=yt(u.startTime),b=yt(u.duration);if(!("navigation"===t.op&&n+l<t.startTimestamp))switch(u.entryType){case"navigation":!function(e,t,r){re(e,t,"unloadEvent",r),re(e,t,"redirect",r),re(e,t,"domContentLoadedEvent",r),re(e,t,"loadEvent",r),re(e,t,"connect",r),re(e,t,"secureConnection",r,"connectEnd"),re(e,t,"fetch",r,"domainLookupStart"),re(e,t,"domainLookup",r),function(e,t,r){ve(e,{op:"browser",description:"request",startTimestamp:r+yt(t.requestStart),endTimestamp:r+yt(t.responseEnd)}),ve(e,{op:"browser",description:"response",startTimestamp:r+yt(t.responseStart),endTimestamp:r+yt(t.responseEnd)})}(e,t,r)}(t,u,n);break;case"mark":case"paint":case"measure":var v=function(e,t,r,n,i){var a=i+r,o=a+n;return ve(e,{description:t.name,endTimestamp:o,op:t.entryType,startTimestamp:a}),a}(t,u,l,b,n);void 0===s&&"sentry-tracing-init"===u.name&&(s=v);var O=bn(),z=u.startTime<O.timeStamp;"first-paint"===u.name&&z&&(x.k.log("[Measurements] Adding FP"),r._measurements.fp={value:u.startTime},r._measurements["mark.fp"]={value:v}),"first-contentful-paint"===u.name&&z&&(x.k.log("[Measurements] Adding FCP"),r._measurements.fcp={value:u.startTime},r._measurements["mark.fcp"]={value:v});break;case"resource":var Q=u.name.replace(window.location.origin,""),vt=function(e,t,r,n,i,a){if("xmlhttprequest"!==t.initiatorType&&"fetch"!==t.initiatorType){var o={};"transferSize"in t&&(o["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(o["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(o["Decoded Body Size"]=t.decodedBodySize);var s=a+n,c=s+i;return ve(e,{description:r,endTimestamp:c,op:t.initiatorType?"resource."+t.initiatorType:"resource",startTimestamp:s,data:o}),c}}(t,u,Q,l,b,n);void 0===o&&(i||"").indexOf(Q)>-1&&(o=vt)}}),void 0!==o&&void 0!==s&&ve(t,{description:"evaluation",endTimestamp:s,op:"script",startTimestamp:o}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),"pageload"===t.op){var c=yt(Ct.Z1);["fcp","fp","lcp","ttfb"].forEach(function(u){if(r._measurements[u]&&!(c>=t.startTimestamp)){var l=r._measurements[u].value,b=c+yt(l),v=Math.abs(1e3*(b-t.startTimestamp)),O=v-l;x.k.log("[Measurements] Normalized "+u+" from "+l+" to "+v+" ("+O+")"),r._measurements[u].value=v}}),this._measurements["mark.fid"]&&this._measurements.fid&&ve(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+yt(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),t.setMeasurements(this._measurements)}}},e.prototype._trackCLS=function(){var t=this;!function(e,t){void 0===t&&(t=!1);var n,r=Rr("CLS",0),i=function(o){o.hadRecentInput||(r.value+=o.value,r.entries.push(o),n())},a=_n("layout-shift",i);a&&(n=yn(e,r,a,t),Ir(function(o){var s=o.isUnloading;a.takeRecords().map(i),s&&(r.isFinal=!0),n()}))}(function(r){!r.entries.pop()||(x.k.log("[Measurements] Adding CLS"),t._measurements.cls={value:r.value})})},e.prototype._trackNavigator=function(t){var r=Ft.navigator;if(r){var n=r.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),Cr(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),Cr(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),Cr(r.deviceMemory)&&t.setTag("deviceMemory",String(r.deviceMemory)),Cr(r.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(r.hardwareConcurrency))}},e.prototype._trackLCP=function(){var t=this;Nc(function(r){var n=r.entries.pop();if(n){var i=yt(performance.timeOrigin),a=yt(n.startTime);x.k.log("[Measurements] Adding LCP"),t._measurements.lcp={value:r.value},t._measurements["mark.lcp"]={value:i+a}}})},e.prototype._trackFID=function(){var t=this;!function(e){var t=Rr("FID"),r=bn(),n=function(o){o.startTime<r.timeStamp&&(t.value=o.processingStart-o.startTime,t.entries.push(o),t.isFinal=!0,a())},i=_n("first-input",n),a=yn(e,t,i);i?Ir(function(){i.takeRecords().map(n),i.disconnect()},!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay(function(o,s){s.timeStamp<r.timeStamp&&(t.value=o,t.isFinal=!0,t.entries=[{entryType:"first-input",name:s.type,target:s.target,cancelable:s.cancelable,startTime:s.timeStamp,processingStart:s.timeStamp+o}],a())})}(function(r){var n=r.entries.pop();if(n){var i=yt(performance.timeOrigin),a=yt(n.startTime);x.k.log("[Measurements] Adding FID"),t._measurements.fid={value:r.value},t._measurements["mark.fid"]={value:i+a}}})},e.prototype._trackTTFB=function(){var t=this;Bc(function(r){var n,i=r.entries.pop();if(i){x.k.log("[Measurements] Adding TTFB"),t._measurements.ttfb={value:r.value};var a=r.value-(n=r.entries[0],null!=n?n:i).requestStart;t._measurements["ttfb.requestTime"]={value:a}}})},e}();function re(e,t,r,n,i){var a=i?t[i]:t[r+"End"],o=t[r+"Start"];!o||!a||ve(e,{op:"browser",description:r,startTimestamp:n+yt(o),endTimestamp:n+yt(a)})}function ve(e,t){var r=t.startTimestamp,n=(0,q._T)(t,["startTimestamp"]);return r&&e.startTimestamp>r&&(e.startTimestamp=r),e.startChild((0,q.pi)({startTimestamp:r},n))}function Cr(e){return"number"==typeof e&&isFinite(e)}var Pr={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};function Vc(e){var t=(0,q.pi)((0,q.pi)({},Pr),e),r=t.traceFetch,n=t.traceXHR,i=t.tracingOrigins,a=t.shouldCreateSpanForRequest,o={},s=function(l){if(o[l])return o[l];var b=i;return o[l]=b.some(function(v){return(0,Dt.zC)(l,v)})&&!(0,Dt.zC)(l,"sentry_key"),o[l]},c=s;"function"==typeof a&&(c=function(l){return s(l)&&a(l)});var u={};r&&It({callback:function(l){!function(e,t,r){var n,i=null===(n=ot().getClient())||void 0===n?void 0:n.getOptions();if(i&&mn(i)&&e.fetchData&&t(e.fetchData.url)){if(e.endTimestamp&&e.fetchData.__span){if(a=r[e.fetchData.__span]){var o=e.response;o&&a.setHttpStatus(o.status),a.finish(),delete r[e.fetchData.__span]}return}var s=Or();if(s){var a=s.startChild({data:(0,q.pi)((0,q.pi)({},e.fetchData),{type:"fetch"}),description:e.fetchData.method+" "+e.fetchData.url,op:"http"});e.fetchData.__span=a.spanId,r[a.spanId]=a;var c=e.args[0]=e.args[0],u=e.args[1]=e.args[1]||{},l=u.headers;(0,ut.V9)(c,Request)&&(l=c.headers),l?"function"==typeof l.append?l.append("sentry-trace",a.toTraceparent()):l=Array.isArray(l)?(0,q.fl)(l,[["sentry-trace",a.toTraceparent()]]):(0,q.pi)((0,q.pi)({},l),{"sentry-trace":a.toTraceparent()}):l={"sentry-trace":a.toTraceparent()},u.headers=l}}}(l,c,u)},type:"fetch"}),n&&It({callback:function(l){!function(e,t,r){var n,i=null===(n=ot().getClient())||void 0===n?void 0:n.getOptions();if(i&&mn(i)&&e.xhr&&e.xhr.__sentry_xhr__&&t(e.xhr.__sentry_xhr__.url)&&!e.xhr.__sentry_own_request__){var a=e.xhr.__sentry_xhr__;if(e.endTimestamp&&e.xhr.__sentry_xhr_span_id__)return void((o=r[e.xhr.__sentry_xhr_span_id__])&&(o.setHttpStatus(a.status_code),o.finish(),delete r[e.xhr.__sentry_xhr_span_id__]));var s=Or();if(s){var o=s.startChild({data:(0,q.pi)((0,q.pi)({},a.data),{type:"xhr",method:a.method,url:a.url}),description:a.method+" "+a.url,op:"http"});if(e.xhr.__sentry_xhr_span_id__=o.spanId,r[e.xhr.__sentry_xhr_span_id__]=o,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",o.toTraceparent())}catch(u){}}}}(l,c,u)},type:"xhr"})}var Ve=(0,N.Rf)();var Zc=(0,q.pi)({idleTimeout:1e3,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(e,t,r){if(void 0===t&&(t=!0),void 0===r&&(r=!0),Ve&&Ve.location){var i,n=Ve.location.href;t&&(i=e({name:Ve.location.pathname,op:"pageload"})),r&&It({callback:function(a){var o=a.to,s=a.from;void 0===s&&n&&-1!==n.indexOf(o)?n=void 0:s!==o&&(n=void 0,i&&(x.k.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=e({name:Ve.location.pathname,op:"navigation"}))},type:"history"})}else x.k.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},Pr),tl=function(){function e(t){this.name=e.id,this._metrics=new $c,this._emitOptionsWarning=!1;var r=Pr.tracingOrigins;t&&t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&0!==t.tracingOrigins.length?r=t.tracingOrigins:this._emitOptionsWarning=!0,this.options=(0,q.pi)((0,q.pi)((0,q.pi)({},Zc),t),{tracingOrigins:r})}return e.prototype.setupOnce=function(t,r){var n=this;this._getCurrentHub=r,this._emitOptionsWarning&&(x.k.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),x.k.warn("[Tracing] We added a reasonable default for you: "+Pr.tracingOrigins));var i=this.options,a=i.routingInstrumentation,o=i.startTransactionOnLocationChange,s=i.startTransactionOnPageLoad,c=i.markBackgroundTransactions,u=i.traceFetch,l=i.traceXHR,b=i.tracingOrigins,v=i.shouldCreateSpanForRequest;a(function(O){return n._createRouteTransaction(O)},s,o),c&&(Tr&&Tr.document?Tr.document.addEventListener("visibilitychange",function(){var e=Or();Tr.document.hidden&&e&&(x.k.log("[Tracing] Transaction: "+Rt.Cancelled+" -> since tab moved to the background, op: "+e.op),e.status||e.setStatus(Rt.Cancelled),e.setTag("visibilitychange","document.hidden"),e.finish())}):x.k.warn("[Tracing] Could not set up background tab detection due to lack of global document")),Vc({traceFetch:u,traceXHR:l,tracingOrigins:b,shouldCreateSpanForRequest:v})},e.prototype._createRouteTransaction=function(t){var r=this;if(this._getCurrentHub){var n=this.options,i=n.beforeNavigate,a=n.idleTimeout,o=n.maxTransactionDuration,s="pageload"===t.op?function(){var e=function(e){var t=document.querySelector("meta[name="+e+"]");return t?t.getAttribute("content"):null}("sentry-trace");if(e)return function(e){var t=e.match(yc);if(t){var r=void 0;return"1"===t[3]?r=!0:"0"===t[3]&&(r=!1),{traceId:t[1],parentSampled:r,parentSpanId:t[2]}}}(e)}():void 0,c=(0,q.pi)((0,q.pi)((0,q.pi)({},t),s),{trimEnd:!0}),u="function"==typeof i?i(c):c,l=void 0===u?(0,q.pi)((0,q.pi)({},c),{sampled:!1}):u;!1===l.sampled&&x.k.log("[Tracing] Will not send "+l.op+" transaction because of beforeNavigate."),x.k.log("[Tracing] Starting "+l.op+" transaction on scope");var O=function(e,t,r,n,i){var a,o,s=(null===(a=e.getClient())||void 0===a?void 0:a.getOptions())||{},c=new Oc(t,e,r,n);return(c=da(c,s,(0,q.pi)({parentSampled:t.parentSampled,transactionContext:t},i))).sampled&&c.initSpanRecorder(null===(o=s._experiments)||void 0===o?void 0:o.maxSpans),c}(this._getCurrentHub(),l,a,!0,{location:(0,N.Rf)().location});return O.registerBeforeFinishCallback(function(z,Q){r._metrics.addPerformanceEntries(z),function(e,t,r){var n=r-t.startTimestamp;r&&(n>e||n<0)&&(t.setStatus(Rt.DeadlineExceeded),t.setTag("maxTransactionDurationExceeded","true"))}(function(e){return 1e3*e}(o),z,Q)}),O}x.k.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.")},e.id="BrowserTracing",e}();var il=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._router=t.router||t.app,this._methods=(Array.isArray(t.methods)?t.methods:[]).concat("use")}return e.prototype.setupOnce=function(){this._router?function(e,t){void 0===t&&(t=[]),t.forEach(function(r){return function(e,t){var r=e[t];return e[t]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return r.call.apply(r,(0,q.fl)([this],al(n,t)))},e}(e,r)})}(this._router,this._methods):x.k.error("ExpressIntegration is missing an Express instance")},e.id="Express",e}();function ma(e,t){var r=e.length;switch(r){case 2:return function(n,i){var a=i.__sentry_transaction;if(a){var o=a.startChild({description:e.name,op:"middleware."+t});i.once("finish",function(){o.finish()})}return e.call(this,n,i)};case 3:return function(n,i,a){var o,c=null===(o=i.__sentry_transaction)||void 0===o?void 0:o.startChild({description:e.name,op:"middleware."+t});e.call(this,n,i,function(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];var b;null===(b=c)||void 0===b||b.finish(),a.call.apply(a,(0,q.fl)([this],u))})};case 4:return function(n,i,a,o){var s,u=null===(s=a.__sentry_transaction)||void 0===s?void 0:s.startChild({description:e.name,op:"middleware."+t});e.call(this,n,i,a,function(){for(var l=[],b=0;b<arguments.length;b++)l[b]=arguments[b];var v;null===(v=u)||void 0===v||v.finish(),o.call.apply(o,(0,q.fl)([this],l))})};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+r)}}function al(e,t){return e.map(function(r){return"function"==typeof r?ma(r,t):Array.isArray(r)?r.map(function(n){return"function"==typeof n?ma(n,t):n}):r})}var ul=S(62874),cl=S(5618),ll=S(72536),fl=(0,q.pi)((0,q.pi)({},G),{BrowserTracing:tl});(function(){var e=me();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Ic),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=Tc))})(),It({callback:ua,type:"error"}),It({callback:ua,type:"unhandledrejection"})},94585:(st,et,S)=>{S.d(et,{ZT:()=>K,pi:()=>F,_T:()=>tt,XA:()=>V,CR:()=>L,fl:()=>P});var W=function(f,p){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var w in m)m.hasOwnProperty(w)&&(d[w]=m[w])})(f,p)};function K(f,p){function d(){this.constructor=f}W(f,p),f.prototype=null===p?Object.create(p):(d.prototype=p.prototype,new d)}var F=function(){return(F=Object.assign||function(p){for(var d,m=1,w=arguments.length;m<w;m++)for(var g in d=arguments[m])Object.prototype.hasOwnProperty.call(d,g)&&(p[g]=d[g]);return p}).apply(this,arguments)};function tt(f,p){var d={};for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.indexOf(m)<0&&(d[m]=f[m]);if(null!=f&&"function"==typeof Object.getOwnPropertySymbols){var w=0;for(m=Object.getOwnPropertySymbols(f);w<m.length;w++)p.indexOf(m[w])<0&&Object.prototype.propertyIsEnumerable.call(f,m[w])&&(d[m[w]]=f[m[w]])}return d}function V(f){var p="function"==typeof Symbol&&Symbol.iterator,d=p&&f[p],m=0;if(d)return d.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&m>=f.length&&(f=void 0),{value:f&&f[m++],done:!f}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(f,p){var d="function"==typeof Symbol&&f[Symbol.iterator];if(!d)return f;var w,I,m=d.call(f),g=[];try{for(;(void 0===p||p-- >0)&&!(w=m.next()).done;)g.push(w.value)}catch(B){I={error:B}}finally{try{w&&!w.done&&(d=m.return)&&d.call(m)}finally{if(I)throw I.error}}return g}function P(){for(var f=[],p=0;p<arguments.length;p++)f=f.concat(L(arguments[p]));return f}},363:(st,et,S)=>{S.d(et,{ZT:()=>K,pi:()=>F,XA:()=>V,CR:()=>L});var W=function(f,p){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var w in m)m.hasOwnProperty(w)&&(d[w]=m[w])})(f,p)};function K(f,p){function d(){this.constructor=f}W(f,p),f.prototype=null===p?Object.create(p):(d.prototype=p.prototype,new d)}var F=function(){return(F=Object.assign||function(p){for(var d,m=1,w=arguments.length;m<w;m++)for(var g in d=arguments[m])Object.prototype.hasOwnProperty.call(d,g)&&(p[g]=d[g]);return p}).apply(this,arguments)};function V(f){var p="function"==typeof Symbol&&Symbol.iterator,d=p&&f[p],m=0;if(d)return d.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&m>=f.length&&(f=void 0),{value:f&&f[m++],done:!f}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(f,p){var d="function"==typeof Symbol&&f[Symbol.iterator];if(!d)return f;var w,I,m=d.call(f),g=[];try{for(;(void 0===p||p-- >0)&&!(w=m.next()).done;)g.push(w.value)}catch(B){I={error:B}}finally{try{w&&!w.done&&(d=m.return)&&d.call(m)}finally{if(I)throw I.error}}return g}}}]);
//# sourceMappingURL=src_app_core_errors_sentry_sentry-dependency_ts.c97548f0c39425db551d.js.map